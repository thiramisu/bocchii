(()=>{var t={3099:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},6077:(t,e,n)=>{var r=n(111);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},1223:(t,e,n)=>{var r=n(5112),i=n(30),s=n(3070),a=r("unscopables"),o=Array.prototype;null==o[a]&&s.f(o,a,{configurable:!0,value:i(null)}),t.exports=function(t){o[a][t]=!0}},1530:(t,e,n)=>{"use strict";var r=n(8710).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},5787:t=>{t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},9670:(t,e,n)=>{var r=n(111);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},4019:t=>{t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:(t,e,n)=>{"use strict";var r,i=n(4019),s=n(9781),a=n(7854),o=n(111),c=n(6656),u=n(648),h=n(8880),l=n(1320),f=n(3070).f,d=n(9518),p=n(7674),w=n(5112),v=n(9711),_=a.Int8Array,g=_&&_.prototype,m=a.Uint8ClampedArray,b=m&&m.prototype,y=_&&d(_),x=g&&d(g),$=Object.prototype,k=$.isPrototypeOf,C=w("toStringTag"),S=v("TYPED_ARRAY_TAG"),E=i&&!!p&&"Opera"!==u(a.opera),P=!1,M={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},I={BigInt64Array:8,BigUint64Array:8},j=function(t){if(!o(t))return!1;var e=u(t);return c(M,e)||c(I,e)};for(r in M)a[r]||(E=!1);if((!E||"function"!=typeof y||y===Function.prototype)&&(y=function(){throw TypeError("Incorrect invocation")},E))for(r in M)a[r]&&p(a[r],y);if((!E||!x||x===$)&&(x=y.prototype,E))for(r in M)a[r]&&p(a[r].prototype,x);if(E&&d(b)!==x&&p(b,x),s&&!c(x,C))for(r in P=!0,f(x,C,{get:function(){return o(this)?this[S]:void 0}}),M)a[r]&&h(a[r],S,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:E,TYPED_ARRAY_TAG:P&&S,aTypedArray:function(t){if(j(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(p){if(k.call(y,t))return t}else for(var e in M)if(c(M,r)){var n=a[e];if(n&&(t===n||k.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(s){if(n)for(var r in M){var i=a[r];i&&c(i.prototype,t)&&delete i.prototype[t]}x[t]&&!n||l(x,t,n?e:E&&g[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,i;if(s){if(p){if(n)for(r in M)(i=a[r])&&c(i,t)&&delete i[t];if(y[t]&&!n)return;try{return l(y,t,n?e:E&&_[t]||e)}catch(t){}}for(r in M)!(i=a[r])||i[t]&&!n||l(i,t,e)}},isView:function(t){if(!o(t))return!1;var e=u(t);return"DataView"===e||c(M,e)||c(I,e)},isTypedArray:j,TypedArray:y,TypedArrayPrototype:x}},3331:(t,e,n)=>{"use strict";var r=n(7854),i=n(9781),s=n(4019),a=n(8880),o=n(2248),c=n(7293),u=n(5787),h=n(9958),l=n(7466),f=n(7067),d=n(1179),p=n(9518),w=n(7674),v=n(8006).f,_=n(3070).f,g=n(1285),m=n(8003),b=n(9909),y=b.get,x=b.set,$="ArrayBuffer",k="DataView",C="Wrong index",S=r.ArrayBuffer,E=S,P=r.DataView,M=P&&P.prototype,I=Object.prototype,j=r.RangeError,A=d.pack,W=d.unpack,O=function(t){return[255&t]},T=function(t){return[255&t,t>>8&255]},N=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},L=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},R=function(t){return A(t,23,4)},F=function(t){return A(t,52,8)},D=function(t,e){_(t.prototype,e,{get:function(){return y(this)[e]}})},U=function(t,e,n,r){var i=f(n),s=y(t);if(i+e>s.byteLength)throw j(C);var a=y(s.buffer).bytes,o=i+s.byteOffset,c=a.slice(o,o+e);return r?c:c.reverse()},z=function(t,e,n,r,i,s){var a=f(n),o=y(t);if(a+e>o.byteLength)throw j(C);for(var c=y(o.buffer).bytes,u=a+o.byteOffset,h=r(+i),l=0;l<e;l++)c[u+l]=h[s?l:e-l-1]};if(s){if(!c((function(){S(1)}))||!c((function(){new S(-1)}))||c((function(){return new S,new S(1.5),new S(NaN),S.name!=$}))){for(var B,q=(E=function(t){return u(this,E),new S(f(t))}).prototype=S.prototype,G=v(S),H=0;G.length>H;)(B=G[H++])in E||a(E,B,S[B]);q.constructor=E}w&&p(M)!==I&&w(M,I);var V=new P(new E(2)),Y=M.setInt8;V.setInt8(0,2147483648),V.setInt8(1,2147483649),!V.getInt8(0)&&V.getInt8(1)||o(M,{setInt8:function(t,e){Y.call(this,t,e<<24>>24)},setUint8:function(t,e){Y.call(this,t,e<<24>>24)}},{unsafe:!0})}else E=function(t){u(this,E,$);var e=f(t);x(this,{bytes:g.call(new Array(e),0),byteLength:e}),i||(this.byteLength=e)},P=function(t,e,n){u(this,P,k),u(t,E,k);var r=y(t).byteLength,s=h(e);if(s<0||s>r)throw j("Wrong offset");if(s+(n=void 0===n?r-s:l(n))>r)throw j("Wrong length");x(this,{buffer:t,byteLength:n,byteOffset:s}),i||(this.buffer=t,this.byteLength=n,this.byteOffset=s)},i&&(D(E,"byteLength"),D(P,"buffer"),D(P,"byteLength"),D(P,"byteOffset")),o(P.prototype,{getInt8:function(t){return U(this,1,t)[0]<<24>>24},getUint8:function(t){return U(this,1,t)[0]},getInt16:function(t){var e=U(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=U(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return L(U(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return L(U(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return W(U(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return W(U(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){z(this,1,t,O,e)},setUint8:function(t,e){z(this,1,t,O,e)},setInt16:function(t,e){z(this,2,t,T,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){z(this,2,t,T,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){z(this,4,t,N,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){z(this,4,t,N,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){z(this,4,t,R,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){z(this,8,t,F,e,arguments.length>2?arguments[2]:void 0)}});m(E,$),m(P,k),t.exports={ArrayBuffer:E,DataView:P}},1285:(t,e,n)=>{"use strict";var r=n(7908),i=n(1400),s=n(7466);t.exports=function(t){for(var e=r(this),n=s(e.length),a=arguments.length,o=i(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:i(c,n);u>o;)e[o++]=t;return e}},8457:(t,e,n)=>{"use strict";var r=n(9974),i=n(7908),s=n(3411),a=n(7659),o=n(7466),c=n(6135),u=n(1246);t.exports=function(t){var e,n,h,l,f,d,p=i(t),w="function"==typeof this?this:Array,v=arguments.length,_=v>1?arguments[1]:void 0,g=void 0!==_,m=u(p),b=0;if(g&&(_=r(_,v>2?arguments[2]:void 0,2)),null==m||w==Array&&a(m))for(n=new w(e=o(p.length));e>b;b++)d=g?_(p[b],b):p[b],c(n,b,d);else for(f=(l=m.call(p)).next,n=new w;!(h=f.call(l)).done;b++)d=g?s(l,_,[h.value,b],!0):h.value,c(n,b,d);return n.length=b,n}},1318:(t,e,n)=>{var r=n(5656),i=n(7466),s=n(1400),a=function(t){return function(e,n,a){var o,c=r(e),u=i(c.length),h=s(a,u);if(t&&n!=n){for(;u>h;)if((o=c[h++])!=o)return!0}else for(;u>h;h++)if((t||h in c)&&c[h]===n)return t||h||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},2092:(t,e,n)=>{var r=n(9974),i=n(8361),s=n(7908),a=n(7466),o=n(5417),c=[].push,u=function(t){var e=1==t,n=2==t,u=3==t,h=4==t,l=6==t,f=7==t,d=5==t||l;return function(p,w,v,_){for(var g,m,b=s(p),y=i(b),x=r(w,v,3),$=a(y.length),k=0,C=_||o,S=e?C(p,$):n||f?C(p,0):void 0;$>k;k++)if((d||k in y)&&(m=x(g=y[k],k,b),t))if(e)S[k]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return k;case 2:c.call(S,g)}else switch(t){case 4:return!1;case 7:c.call(S,g)}return l?-1:u||h?h:S}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},5417:(t,e,n)=>{var r=n(111),i=n(3157),s=n(5112)("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[s])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},3411:(t,e,n)=>{var r=n(9670),i=n(9212);t.exports=function(t,e,n,s){try{return s?e(r(n)[0],n[1]):e(n)}catch(e){throw i(t),e}}},7072:(t,e,n)=>{var r=n(5112)("iterator"),i=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var s={};s[r]=function(){return{next:function(){return{done:n=!0}}}},t(s)}catch(t){}return n}},4326:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},648:(t,e,n)=>{var r=n(1694),i=n(4326),s=n(5112)("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),s))?n:a?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},9920:(t,e,n)=>{var r=n(6656),i=n(3887),s=n(1236),a=n(3070);t.exports=function(t,e){for(var n=i(e),o=a.f,c=s.f,u=0;u<n.length;u++){var h=n[u];r(t,h)||o(t,h,c(e,h))}}},8544:(t,e,n)=>{var r=n(7293);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4994:(t,e,n)=>{"use strict";var r=n(3383).IteratorPrototype,i=n(30),s=n(9114),a=n(8003),o=n(7497),c=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=i(r,{next:s(1,n)}),a(t,u,!1,!0),o[u]=c,t}},8880:(t,e,n)=>{var r=n(9781),i=n(3070),s=n(9114);t.exports=r?function(t,e,n){return i.f(t,e,s(1,n))}:function(t,e,n){return t[e]=n,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:(t,e,n)=>{"use strict";var r=n(7593),i=n(3070),s=n(9114);t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,s(0,n)):t[a]=n}},654:(t,e,n)=>{"use strict";var r=n(2109),i=n(4994),s=n(9518),a=n(7674),o=n(8003),c=n(8880),u=n(1320),h=n(5112),l=n(1913),f=n(7497),d=n(3383),p=d.IteratorPrototype,w=d.BUGGY_SAFARI_ITERATORS,v=h("iterator"),_="keys",g="values",m="entries",b=function(){return this};t.exports=function(t,e,n,h,d,y,x){i(n,e,h);var $,k,C,S=function(t){if(t===d&&j)return j;if(!w&&t in M)return M[t];switch(t){case _:case g:case m:return function(){return new n(this,t)}}return function(){return new n(this)}},E=e+" Iterator",P=!1,M=t.prototype,I=M[v]||M["@@iterator"]||d&&M[d],j=!w&&I||S(d),A="Array"==e&&M.entries||I;if(A&&($=s(A.call(new t)),p!==Object.prototype&&$.next&&(l||s($)===p||(a?a($,p):"function"!=typeof $[v]&&c($,v,b)),o($,E,!0,!0),l&&(f[E]=b))),d==g&&I&&I.name!==g&&(P=!0,j=function(){return I.call(this)}),l&&!x||M[v]===j||c(M,v,j),f[e]=j,d)if(k={values:S(g),keys:y?j:S(_),entries:S(m)},x)for(C in k)(w||P||!(C in M))&&u(M,C,k[C]);else r({target:e,proto:!0,forced:w||P},k);return k}},9781:(t,e,n)=>{var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(t,e,n)=>{var r=n(7854),i=n(111),s=r.document,a=i(s)&&i(s.createElement);t.exports=function(t){return a?s.createElement(t):{}}},5268:(t,e,n)=>{var r=n(4326),i=n(7854);t.exports="process"==r(i.process)},8113:(t,e,n)=>{var r=n(5005);t.exports=r("navigator","userAgent")||""},7392:(t,e,n)=>{var r,i,s=n(7854),a=n(8113),o=s.process,c=o&&o.versions,u=c&&c.v8;u?i=(r=u.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(t,e,n)=>{var r=n(7854),i=n(1236).f,s=n(8880),a=n(1320),o=n(3505),c=n(9920),u=n(4705);t.exports=function(t,e){var n,h,l,f,d,p=t.target,w=t.global,v=t.stat;if(n=w?r:v?r[p]||o(p,{}):(r[p]||{}).prototype)for(h in e){if(f=e[h],l=t.noTargetGet?(d=i(n,h))&&d.value:n[h],!u(w?h:p+(v?".":"#")+h,t.forced)&&void 0!==l){if(typeof f==typeof l)continue;c(f,l)}(t.sham||l&&l.sham)&&s(f,"sham",!0),a(n,h,f,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},7007:(t,e,n)=>{"use strict";n(4916);var r=n(1320),i=n(7293),s=n(5112),a=n(8880),o=s("species"),c=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u="$0"==="a".replace(/./,"$0"),h=s("replace"),l=!!/./[h]&&""===/./[h]("a","$0"),f=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,h){var d=s(t),p=!i((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),w=p&&!i((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[o]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return e=!0,null},n[d](""),!e}));if(!p||!w||"replace"===t&&(!c||!u||l)||"split"===t&&!f){var v=/./[d],_=n(d,""[t],(function(t,e,n,r,i){return e.exec===RegExp.prototype.exec?p&&!i?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:l}),g=_[0],m=_[1];r(String.prototype,t,g),r(RegExp.prototype,d,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)})}h&&a(RegExp.prototype[d],"sham",!0)}},9974:(t,e,n)=>{var r=n(3099);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},5005:(t,e,n)=>{var r=n(857),i=n(7854),s=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?s(r[t])||s(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},1246:(t,e,n)=>{var r=n(648),i=n(7497),s=n(5112)("iterator");t.exports=function(t){if(null!=t)return t[s]||t["@@iterator"]||i[r(t)]}},8554:(t,e,n)=>{var r=n(9670),i=n(1246);t.exports=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},647:(t,e,n)=>{var r=n(7908),i=Math.floor,s="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,o=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,c,u,h){var l=n+t.length,f=c.length,d=o;return void 0!==u&&(u=r(u),d=a),s.call(h,d,(function(r,s){var a;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(l);case"<":a=u[s.slice(1,-1)];break;default:var o=+s;if(0===o)return r;if(o>f){var h=i(o/10);return 0===h?r:h<=f?void 0===c[h-1]?s.charAt(1):c[h-1]+s.charAt(1):r}a=c[o-1]}return void 0===a?"":a}))}},7854:(t,e,n)=>{var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:t=>{var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},3501:t=>{t.exports={}},490:(t,e,n)=>{var r=n(5005);t.exports=r("document","documentElement")},4664:(t,e,n)=>{var r=n(9781),i=n(7293),s=n(317);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},1179:t=>{var e=Math.abs,n=Math.pow,r=Math.floor,i=Math.log,s=Math.LN2;t.exports={pack:function(t,a,o){var c,u,h,l=new Array(o),f=8*o-a-1,d=(1<<f)-1,p=d>>1,w=23===a?n(2,-24)-n(2,-77):0,v=t<0||0===t&&1/t<0?1:0,_=0;for((t=e(t))!=t||t===1/0?(u=t!=t?1:0,c=d):(c=r(i(t)/s),t*(h=n(2,-c))<1&&(c--,h*=2),(t+=c+p>=1?w/h:w*n(2,1-p))*h>=2&&(c++,h/=2),c+p>=d?(u=0,c=d):c+p>=1?(u=(t*h-1)*n(2,a),c+=p):(u=t*n(2,p-1)*n(2,a),c=0));a>=8;l[_++]=255&u,u/=256,a-=8);for(c=c<<a|u,f+=a;f>0;l[_++]=255&c,c/=256,f-=8);return l[--_]|=128*v,l},unpack:function(t,e){var r,i=t.length,s=8*i-e-1,a=(1<<s)-1,o=a>>1,c=s-7,u=i-1,h=t[u--],l=127&h;for(h>>=7;c>0;l=256*l+t[u],u--,c-=8);for(r=l&(1<<-c)-1,l>>=-c,c+=e;c>0;r=256*r+t[u],u--,c-=8);if(0===l)l=1-o;else{if(l===a)return r?NaN:h?-1/0:1/0;r+=n(2,e),l-=o}return(h?-1:1)*r*n(2,l-e)}}},8361:(t,e,n)=>{var r=n(7293),i=n(4326),s="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?s.call(t,""):Object(t)}:Object},9587:(t,e,n)=>{var r=n(111),i=n(7674);t.exports=function(t,e,n){var s,a;return i&&"function"==typeof(s=e.constructor)&&s!==n&&r(a=s.prototype)&&a!==n.prototype&&i(t,a),t}},2788:(t,e,n)=>{var r=n(5465),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},9909:(t,e,n)=>{var r,i,s,a=n(8536),o=n(7854),c=n(111),u=n(8880),h=n(6656),l=n(5465),f=n(6200),d=n(3501),p=o.WeakMap;if(a){var w=l.state||(l.state=new p),v=w.get,_=w.has,g=w.set;r=function(t,e){return e.facade=t,g.call(w,t,e),e},i=function(t){return v.call(w,t)||{}},s=function(t){return _.call(w,t)}}else{var m=f("state");d[m]=!0,r=function(t,e){return e.facade=t,u(t,m,e),e},i=function(t){return h(t,m)?t[m]:{}},s=function(t){return h(t,m)}}t.exports={set:r,get:i,has:s,enforce:function(t){return s(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},7659:(t,e,n)=>{var r=n(5112),i=n(7497),s=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[s]===t)}},3157:(t,e,n)=>{var r=n(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},4705:(t,e,n)=>{var r=n(7293),i=/#|\.prototype\./,s=function(t,e){var n=o[a(t)];return n==u||n!=c&&("function"==typeof e?r(e):!!e)},a=s.normalize=function(t){return String(t).replace(i,".").toLowerCase()},o=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";t.exports=s},111:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:t=>{t.exports=!1},9212:(t,e,n)=>{var r=n(9670);t.exports=function(t){var e=t.return;if(void 0!==e)return r(e.call(t)).value}},3383:(t,e,n)=>{"use strict";var r,i,s,a=n(7293),o=n(9518),c=n(8880),u=n(6656),h=n(5112),l=n(1913),f=h("iterator"),d=!1;[].keys&&("next"in(s=[].keys())?(i=o(o(s)))!==Object.prototype&&(r=i):d=!0);var p=null==r||a((function(){var t={};return r[f].call(t)!==t}));p&&(r={}),l&&!p||u(r,f)||c(r,f,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},7497:t=>{t.exports={}},133:(t,e,n)=>{var r=n(5268),i=n(7392),s=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!s((function(){return!Symbol.sham&&(r?38===i:i>37&&i<41)}))},590:(t,e,n)=>{var r=n(7293),i=n(5112),s=n(1913),a=i("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),s&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},8536:(t,e,n)=>{var r=n(7854),i=n(2788),s=r.WeakMap;t.exports="function"==typeof s&&/native code/.test(i(s))},1574:(t,e,n)=>{"use strict";var r=n(9781),i=n(7293),s=n(1956),a=n(5181),o=n(5296),c=n(7908),u=n(8361),h=Object.assign,l=Object.defineProperty;t.exports=!h||i((function(){if(r&&1!==h({b:1},h(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=h({},t)[n]||s(h({},e)).join("")!=i}))?function(t,e){for(var n=c(t),i=arguments.length,h=1,l=a.f,f=o.f;i>h;)for(var d,p=u(arguments[h++]),w=l?s(p).concat(l(p)):s(p),v=w.length,_=0;v>_;)d=w[_++],r&&!f.call(p,d)||(n[d]=p[d]);return n}:h},30:(t,e,n)=>{var r,i=n(9670),s=n(6048),a=n(748),o=n(3501),c=n(490),u=n(317),h=n(6200),l=h("IE_PROTO"),f=function(){},d=function(t){return"<script>"+t+"</"+"script>"},p=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;p=r?function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=u("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete p.prototype[a[n]];return p()};o[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(f.prototype=i(t),n=new f,f.prototype=null,n[l]=t):n=p(),void 0===e?n:s(n,e)}},6048:(t,e,n)=>{var r=n(9781),i=n(3070),s=n(9670),a=n(1956);t.exports=r?Object.defineProperties:function(t,e){s(t);for(var n,r=a(e),o=r.length,c=0;o>c;)i.f(t,n=r[c++],e[n]);return t}},3070:(t,e,n)=>{var r=n(9781),i=n(4664),s=n(9670),a=n(7593),o=Object.defineProperty;e.f=r?o:function(t,e,n){if(s(t),e=a(e,!0),s(n),i)try{return o(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:(t,e,n)=>{var r=n(9781),i=n(5296),s=n(9114),a=n(5656),o=n(7593),c=n(6656),u=n(4664),h=Object.getOwnPropertyDescriptor;e.f=r?h:function(t,e){if(t=a(t),e=o(e,!0),u)try{return h(t,e)}catch(t){}if(c(t,e))return s(!i.f.call(t,e),t[e])}},8006:(t,e,n)=>{var r=n(6324),i=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},9518:(t,e,n)=>{var r=n(6656),i=n(7908),s=n(6200),a=n(8544),o=s("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},6324:(t,e,n)=>{var r=n(6656),i=n(5656),s=n(1318).indexOf,a=n(3501);t.exports=function(t,e){var n,o=i(t),c=0,u=[];for(n in o)!r(a,n)&&r(o,n)&&u.push(n);for(;e.length>c;)r(o,n=e[c++])&&(~s(u,n)||u.push(n));return u}},1956:(t,e,n)=>{var r=n(6324),i=n(748);t.exports=Object.keys||function(t){return r(t,i)}},5296:(t,e)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},7674:(t,e,n)=>{var r=n(9670),i=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,s){return r(n),i(s),e?t.call(n,s):n.__proto__=s,n}}():void 0)},3887:(t,e,n)=>{var r=n(5005),i=n(8006),s=n(5181),a=n(9670);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(a(t)),n=s.f;return n?e.concat(n(t)):e}},857:(t,e,n)=>{var r=n(7854);t.exports=r},2248:(t,e,n)=>{var r=n(1320);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},1320:(t,e,n)=>{var r=n(7854),i=n(8880),s=n(6656),a=n(3505),o=n(2788),c=n(9909),u=c.get,h=c.enforce,l=String(String).split("String");(t.exports=function(t,e,n,o){var c,u=!!o&&!!o.unsafe,f=!!o&&!!o.enumerable,d=!!o&&!!o.noTargetGet;"function"==typeof n&&("string"!=typeof e||s(n,"name")||i(n,"name",e),(c=h(n)).source||(c.source=l.join("string"==typeof e?e:""))),t!==r?(u?!d&&t[e]&&(f=!0):delete t[e],f?t[e]=n:i(t,e,n)):f?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||o(this)}))},7651:(t,e,n)=>{var r=n(4326),i=n(2261);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var s=n.call(t,e);if("object"!=typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},2261:(t,e,n)=>{"use strict";var r,i,s=n(7066),a=n(2999),o=n(2309),c=RegExp.prototype.exec,u=o("native-string-replace",String.prototype.replace),h=c,l=(r=/a/,i=/b*/g,c.call(r,"a"),c.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),f=a.UNSUPPORTED_Y||a.BROKEN_CARET,d=void 0!==/()??/.exec("")[1];(l||d||f)&&(h=function(t){var e,n,r,i,a=this,o=f&&a.sticky,h=s.call(a),p=a.source,w=0,v=t;return o&&(-1===(h=h.replace("y","")).indexOf("g")&&(h+="g"),v=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(p="(?: "+p+")",v=" "+v,w++),n=new RegExp("^(?:"+p+")",h)),d&&(n=new RegExp("^"+p+"$(?!\\s)",h)),l&&(e=a.lastIndex),r=c.call(o?n:a,v),o?r?(r.input=r.input.slice(w),r[0]=r[0].slice(w),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:l&&r&&(a.lastIndex=a.global?r.index+r[0].length:e),d&&r&&r.length>1&&u.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=h},7066:(t,e,n)=>{"use strict";var r=n(9670);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},2999:(t,e,n)=>{"use strict";var r=n(7293);function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},4488:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:(t,e,n)=>{var r=n(7854),i=n(8880);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},6340:(t,e,n)=>{"use strict";var r=n(5005),i=n(3070),s=n(5112),a=n(9781),o=s("species");t.exports=function(t){var e=r(t),n=i.f;a&&e&&!e[o]&&n(e,o,{configurable:!0,get:function(){return this}})}},8003:(t,e,n)=>{var r=n(3070).f,i=n(6656),s=n(5112)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,s)&&r(t,s,{configurable:!0,value:e})}},6200:(t,e,n)=>{var r=n(2309),i=n(9711),s=r("keys");t.exports=function(t){return s[t]||(s[t]=i(t))}},5465:(t,e,n)=>{var r=n(7854),i=n(3505),s="__core-js_shared__",a=r[s]||i(s,{});t.exports=a},2309:(t,e,n)=>{var r=n(1913),i=n(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.10.1",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},8710:(t,e,n)=>{var r=n(9958),i=n(4488),s=function(t){return function(e,n){var s,a,o=String(i(e)),c=r(n),u=o.length;return c<0||c>=u?t?"":void 0:(s=o.charCodeAt(c))<55296||s>56319||c+1===u||(a=o.charCodeAt(c+1))<56320||a>57343?t?o.charAt(c):s:t?o.slice(c,c+2):a-56320+(s-55296<<10)+65536}};t.exports={codeAt:s(!1),charAt:s(!0)}},3197:t=>{"use strict";var e=2147483647,n=/[^\0-\u007E]/,r=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",s=Math.floor,a=String.fromCharCode,o=function(t){return t+22+75*(t<26)},c=function(t,e,n){var r=0;for(t=n?s(t/700):t>>1,t+=s(t/e);t>455;r+=36)t=s(t/35);return s(r+36*t/(t+38))},u=function(t){var n,r,u=[],h=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}(t)).length,l=128,f=0,d=72;for(n=0;n<t.length;n++)(r=t[n])<128&&u.push(a(r));var p=u.length,w=p;for(p&&u.push("-");w<h;){var v=e;for(n=0;n<t.length;n++)(r=t[n])>=l&&r<v&&(v=r);var _=w+1;if(v-l>s((e-f)/_))throw RangeError(i);for(f+=(v-l)*_,l=v,n=0;n<t.length;n++){if((r=t[n])<l&&++f>e)throw RangeError(i);if(r==l){for(var g=f,m=36;;m+=36){var b=m<=d?1:m>=d+26?26:m-d;if(g<b)break;var y=g-b,x=36-b;u.push(a(o(b+y%x))),g=s(y/x)}u.push(a(o(g))),d=c(f,_,w==p),f=0,++w}}++f,++l}return u.join("")};t.exports=function(t){var e,i,s=[],a=t.toLowerCase().replace(r,".").split(".");for(e=0;e<a.length;e++)i=a[e],s.push(n.test(i)?"xn--"+u(i):i);return s.join(".")}},1400:(t,e,n)=>{var r=n(9958),i=Math.max,s=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):s(n,e)}},7067:(t,e,n)=>{var r=n(9958),i=n(7466);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length or index");return n}},5656:(t,e,n)=>{var r=n(8361),i=n(4488);t.exports=function(t){return r(i(t))}},9958:t=>{var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},7466:(t,e,n)=>{var r=n(9958),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},7908:(t,e,n)=>{var r=n(4488);t.exports=function(t){return Object(r(t))}},4590:(t,e,n)=>{var r=n(3002);t.exports=function(t,e){var n=r(t);if(n%e)throw RangeError("Wrong offset");return n}},3002:(t,e,n)=>{var r=n(9958);t.exports=function(t){var e=r(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},7593:(t,e,n)=>{var r=n(111);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},1694:(t,e,n)=>{var r={};r[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(r)},9843:(t,e,n)=>{"use strict";var r=n(2109),i=n(7854),s=n(9781),a=n(3832),o=n(260),c=n(3331),u=n(5787),h=n(9114),l=n(8880),f=n(7466),d=n(7067),p=n(4590),w=n(7593),v=n(6656),_=n(648),g=n(111),m=n(30),b=n(7674),y=n(8006).f,x=n(7321),$=n(2092).forEach,k=n(6340),C=n(3070),S=n(1236),E=n(9909),P=n(9587),M=E.get,I=E.set,j=C.f,A=S.f,W=Math.round,O=i.RangeError,T=c.ArrayBuffer,N=c.DataView,L=o.NATIVE_ARRAY_BUFFER_VIEWS,R=o.TYPED_ARRAY_TAG,F=o.TypedArray,D=o.TypedArrayPrototype,U=o.aTypedArrayConstructor,z=o.isTypedArray,B="BYTES_PER_ELEMENT",q="Wrong length",G=function(t,e){for(var n=0,r=e.length,i=new(U(t))(r);r>n;)i[n]=e[n++];return i},H=function(t,e){j(t,e,{get:function(){return M(this)[e]}})},V=function(t){var e;return t instanceof T||"ArrayBuffer"==(e=_(t))||"SharedArrayBuffer"==e},Y=function(t,e){return z(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},K=function(t,e){return Y(t,e=w(e,!0))?h(2,t[e]):A(t,e)},J=function(t,e,n){return!(Y(t,e=w(e,!0))&&g(n)&&v(n,"value"))||v(n,"get")||v(n,"set")||n.configurable||v(n,"writable")&&!n.writable||v(n,"enumerable")&&!n.enumerable?j(t,e,n):(t[e]=n.value,t)};s?(L||(S.f=K,C.f=J,H(D,"buffer"),H(D,"byteOffset"),H(D,"byteLength"),H(D,"length")),r({target:"Object",stat:!0,forced:!L},{getOwnPropertyDescriptor:K,defineProperty:J}),t.exports=function(t,e,n){var s=t.match(/\d+$/)[0]/8,o=t+(n?"Clamped":"")+"Array",c="get"+t,h="set"+t,w=i[o],v=w,_=v&&v.prototype,C={},S=function(t,e){j(t,e,{get:function(){return function(t,e){var n=M(t);return n.view[c](e*s+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,r){var i=M(t);n&&(r=(r=W(r))<0?0:r>255?255:255&r),i.view[h](e*s+i.byteOffset,r,!0)}(this,e,t)},enumerable:!0})};L?a&&(v=e((function(t,e,n,r){return u(t,v,o),P(g(e)?V(e)?void 0!==r?new w(e,p(n,s),r):void 0!==n?new w(e,p(n,s)):new w(e):z(e)?G(v,e):x.call(v,e):new w(d(e)),t,v)})),b&&b(v,F),$(y(w),(function(t){t in v||l(v,t,w[t])})),v.prototype=_):(v=e((function(t,e,n,r){u(t,v,o);var i,a,c,h=0,l=0;if(g(e)){if(!V(e))return z(e)?G(v,e):x.call(v,e);i=e,l=p(n,s);var w=e.byteLength;if(void 0===r){if(w%s)throw O(q);if((a=w-l)<0)throw O(q)}else if((a=f(r)*s)+l>w)throw O(q);c=a/s}else c=d(e),i=new T(a=c*s);for(I(t,{buffer:i,byteOffset:l,byteLength:a,length:c,view:new N(i)});h<c;)S(t,h++)})),b&&b(v,F),_=v.prototype=m(D)),_.constructor!==v&&l(_,"constructor",v),R&&l(_,R,o),C[o]=v,r({global:!0,forced:v!=w,sham:!L},C),B in v||l(v,B,s),B in _||l(_,B,s),k(o)}):t.exports=function(){}},3832:(t,e,n)=>{var r=n(7854),i=n(7293),s=n(7072),a=n(260).NATIVE_ARRAY_BUFFER_VIEWS,o=r.ArrayBuffer,c=r.Int8Array;t.exports=!a||!i((function(){c(1)}))||!i((function(){new c(-1)}))||!s((function(t){new c,new c(null),new c(1.5),new c(t)}),!0)||i((function(){return 1!==new c(new o(2),1,void 0).length}))},7321:(t,e,n)=>{var r=n(7908),i=n(7466),s=n(1246),a=n(7659),o=n(9974),c=n(260).aTypedArrayConstructor;t.exports=function(t){var e,n,u,h,l,f,d=r(t),p=arguments.length,w=p>1?arguments[1]:void 0,v=void 0!==w,_=s(d);if(null!=_&&!a(_))for(f=(l=_.call(d)).next,d=[];!(h=f.call(l)).done;)d.push(h.value);for(v&&p>2&&(w=o(w,arguments[2],2)),n=i(d.length),u=new(c(this))(n),e=0;n>e;e++)u[e]=v?w(d[e],e):d[e];return u}},9711:t=>{var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},3307:(t,e,n)=>{var r=n(133);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:(t,e,n)=>{var r=n(7854),i=n(2309),s=n(6656),a=n(9711),o=n(133),c=n(3307),u=i("wks"),h=r.Symbol,l=c?h:h&&h.withoutSetter||a;t.exports=function(t){return s(u,t)&&(o||"string"==typeof u[t])||(o&&s(h,t)?u[t]=h[t]:u[t]=l("Symbol."+t)),u[t]}},6992:(t,e,n)=>{"use strict";var r=n(5656),i=n(1223),s=n(7497),a=n(9909),o=n(654),c="Array Iterator",u=a.set,h=a.getterFor(c);t.exports=o(Array,"Array",(function(t,e){u(this,{type:c,target:r(t),index:0,kind:e})}),(function(){var t=h(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),s.Arguments=s.Array,i("keys"),i("values"),i("entries")},4916:(t,e,n)=>{"use strict";var r=n(2109),i=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},8783:(t,e,n)=>{"use strict";var r=n(8710).charAt,i=n(9909),s=n(654),a="String Iterator",o=i.set,c=i.getterFor(a);s(String,"String",(function(t){o(this,{type:a,string:String(t),index:0})}),(function(){var t,e=c(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},5306:(t,e,n)=>{"use strict";var r=n(7007),i=n(9670),s=n(7466),a=n(9958),o=n(4488),c=n(1530),u=n(647),h=n(7651),l=Math.max,f=Math.min;r("replace",2,(function(t,e,n,r){var d=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,p=r.REPLACE_KEEPS_$0,w=d?"$":"$0";return[function(n,r){var i=o(this),s=null==n?void 0:n[t];return void 0!==s?s.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!d&&p||"string"==typeof r&&-1===r.indexOf(w)){var o=n(e,t,this,r);if(o.done)return o.value}var v=i(t),_=String(this),g="function"==typeof r;g||(r=String(r));var m=v.global;if(m){var b=v.unicode;v.lastIndex=0}for(var y=[];;){var x=h(v,_);if(null===x)break;if(y.push(x),!m)break;""===String(x[0])&&(v.lastIndex=c(_,s(v.lastIndex),b))}for(var $,k="",C=0,S=0;S<y.length;S++){x=y[S];for(var E=String(x[0]),P=l(f(a(x.index),_.length),0),M=[],I=1;I<x.length;I++)M.push(void 0===($=x[I])?$:String($));var j=x.groups;if(g){var A=[E].concat(M,P,_);void 0!==j&&A.push(j);var W=String(r.apply(void 0,A))}else W=u(E,_,P,M,j,r);P>=C&&(k+=_.slice(C,P)+W,C=P+E.length)}return k+_.slice(C)}]}))},2472:(t,e,n)=>{n(9843)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},1637:(t,e,n)=>{"use strict";n(6992);var r=n(2109),i=n(5005),s=n(590),a=n(1320),o=n(2248),c=n(8003),u=n(4994),h=n(9909),l=n(5787),f=n(6656),d=n(9974),p=n(648),w=n(9670),v=n(111),_=n(30),g=n(9114),m=n(8554),b=n(1246),y=n(5112),x=i("fetch"),$=i("Headers"),k=y("iterator"),C="URLSearchParams",S="URLSearchParamsIterator",E=h.set,P=h.getterFor(C),M=h.getterFor(S),I=/\+/g,j=Array(4),A=function(t){return j[t-1]||(j[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},W=function(t){try{return decodeURIComponent(t)}catch(e){return t}},O=function(t){var e=t.replace(I," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(A(n--),W);return e}},T=/[!'()~]|%20/g,N={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},L=function(t){return N[t]},R=function(t){return encodeURIComponent(t).replace(T,L)},F=function(t,e){if(e)for(var n,r,i=e.split("&"),s=0;s<i.length;)(n=i[s++]).length&&(r=n.split("="),t.push({key:O(r.shift()),value:O(r.join("="))}))},D=function(t){this.entries.length=0,F(this.entries,t)},U=function(t,e){if(t<e)throw TypeError("Not enough arguments")},z=u((function(t,e){E(this,{type:S,iterator:m(P(t).entries),kind:e})}),"Iterator",(function(){var t=M(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),B=function(){l(this,B,C);var t,e,n,r,i,s,a,o,c,u=arguments.length>0?arguments[0]:void 0,h=this,d=[];if(E(h,{type:C,entries:d,updateURL:function(){},updateSearchParams:D}),void 0!==u)if(v(u))if("function"==typeof(t=b(u)))for(n=(e=t.call(u)).next;!(r=n.call(e)).done;){if((a=(s=(i=m(w(r.value))).next).call(i)).done||(o=s.call(i)).done||!s.call(i).done)throw TypeError("Expected sequence with length 2");d.push({key:a.value+"",value:o.value+""})}else for(c in u)f(u,c)&&d.push({key:c,value:u[c]+""});else F(d,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},q=B.prototype;o(q,{append:function(t,e){U(arguments.length,2);var n=P(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){U(arguments.length,1);for(var e=P(this),n=e.entries,r=t+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;e.updateURL()},get:function(t){U(arguments.length,1);for(var e=P(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){U(arguments.length,1);for(var e=P(this).entries,n=t+"",r=[],i=0;i<e.length;i++)e[i].key===n&&r.push(e[i].value);return r},has:function(t){U(arguments.length,1);for(var e=P(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){U(arguments.length,1);for(var n,r=P(this),i=r.entries,s=!1,a=t+"",o=e+"",c=0;c<i.length;c++)(n=i[c]).key===a&&(s?i.splice(c--,1):(s=!0,n.value=o));s||i.push({key:a,value:o}),r.updateURL()},sort:function(){var t,e,n,r=P(this),i=r.entries,s=i.slice();for(i.length=0,n=0;n<s.length;n++){for(t=s[n],e=0;e<n;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===n&&i.push(t)}r.updateURL()},forEach:function(t){for(var e,n=P(this).entries,r=d(t,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new z(this,"keys")},values:function(){return new z(this,"values")},entries:function(){return new z(this,"entries")}},{enumerable:!0}),a(q,k,q.entries),a(q,"toString",(function(){for(var t,e=P(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(R(t.key)+"="+R(t.value));return n.join("&")}),{enumerable:!0}),c(B,C),r({global:!0,forced:!s},{URLSearchParams:B}),s||"function"!=typeof x||"function"!=typeof $||r({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,i=[t];return arguments.length>1&&(v(e=arguments[1])&&(n=e.body,p(n)===C&&((r=e.headers?new $(e.headers):new $).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=_(e,{body:g(0,String(n)),headers:g(0,r)}))),i.push(e)),x.apply(this,i)}}),t.exports={URLSearchParams:B,getState:P}},285:(t,e,n)=>{"use strict";n(8783);var r,i=n(2109),s=n(9781),a=n(590),o=n(7854),c=n(6048),u=n(1320),h=n(5787),l=n(6656),f=n(1574),d=n(8457),p=n(8710).codeAt,w=n(3197),v=n(8003),_=n(1637),g=n(9909),m=o.URL,b=_.URLSearchParams,y=_.getState,x=g.set,$=g.getterFor("URL"),k=Math.floor,C=Math.pow,S="Invalid scheme",E="Invalid host",P="Invalid port",M=/[A-Za-z]/,I=/[\d+-.A-Za-z]/,j=/\d/,A=/^(0x|0X)/,W=/^[0-7]+$/,O=/^\d+$/,T=/^[\dA-Fa-f]+$/,N=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,L=/[\u0000\t\u000A\u000D #/:?@[\\]]/,R=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,F=/[\t\u000A\u000D]/g,D=function(t,e){var n,r,i;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return E;if(!(n=z(e.slice(1,-1))))return E;t.host=n}else if(J(t)){if(e=w(e),N.test(e))return E;if(null===(n=U(e)))return E;t.host=n}else{if(L.test(e))return E;for(n="",r=d(e),i=0;i<r.length;i++)n+=Y(r[i],q);t.host=n}},U=function(t){var e,n,r,i,s,a,o,c=t.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(e=c.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(i=c[r]))return t;if(s=10,i.length>1&&"0"==i.charAt(0)&&(s=A.test(i)?16:8,i=i.slice(8==s?1:2)),""===i)a=0;else{if(!(10==s?O:8==s?W:T).test(i))return t;a=parseInt(i,s)}n.push(a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=C(256,5-e))return null}else if(a>255)return null;for(o=n.pop(),r=0;r<n.length;r++)o+=n[r]*C(256,3-r);return o},z=function(t){var e,n,r,i,s,a,o,c=[0,0,0,0,0,0,0,0],u=0,h=null,l=0,f=function(){return t.charAt(l)};if(":"==f()){if(":"!=t.charAt(1))return;l+=2,h=++u}for(;f();){if(8==u)return;if(":"!=f()){for(e=n=0;n<4&&T.test(f());)e=16*e+parseInt(f(),16),l++,n++;if("."==f()){if(0==n)return;if(l-=n,u>6)return;for(r=0;f();){if(i=null,r>0){if(!("."==f()&&r<4))return;l++}if(!j.test(f()))return;for(;j.test(f());){if(s=parseInt(f(),10),null===i)i=s;else{if(0==i)return;i=10*i+s}if(i>255)return;l++}c[u]=256*c[u]+i,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==f()){if(l++,!f())return}else if(f())return;c[u++]=e}else{if(null!==h)return;l++,h=++u}}if(null!==h)for(a=u-h,u=7;0!=u&&a>0;)o=c[u],c[u--]=c[h+a-1],c[h+--a]=o;else if(8!=u)return;return c},B=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=k(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,s=0;s<8;s++)0!==t[s]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=s),++i);return i>n&&(e=r,n=i),e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},q={},G=f({},q,{" ":1,'"':1,"<":1,">":1,"`":1}),H=f({},G,{"#":1,"?":1,"{":1,"}":1}),V=f({},H,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Y=function(t,e){var n=p(t,0);return n>32&&n<127&&!l(e,t)?t:encodeURIComponent(t)},K={ftp:21,file:null,http:80,https:443,ws:80,wss:443},J=function(t){return l(K,t.scheme)},X=function(t){return""!=t.username||""!=t.password},Z=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},Q=function(t,e){var n;return 2==t.length&&M.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},tt=function(t){var e;return t.length>1&&Q(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},et=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&Q(e[0],!0)||e.pop()},nt=function(t){return"."===t||"%2e"===t.toLowerCase()},rt={},it={},st={},at={},ot={},ct={},ut={},ht={},lt={},ft={},dt={},pt={},wt={},vt={},_t={},gt={},mt={},bt={},yt={},xt={},$t={},kt=function(t,e,n,i){var s,a,o,c,u,h=n||rt,f=0,p="",w=!1,v=!1,_=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(R,"")),e=e.replace(F,""),s=d(e);f<=s.length;){switch(a=s[f],h){case rt:if(!a||!M.test(a)){if(n)return S;h=st;continue}p+=a.toLowerCase(),h=it;break;case it:if(a&&(I.test(a)||"+"==a||"-"==a||"."==a))p+=a.toLowerCase();else{if(":"!=a){if(n)return S;p="",h=st,f=0;continue}if(n&&(J(t)!=l(K,p)||"file"==p&&(X(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=p,n)return void(J(t)&&K[t.scheme]==t.port&&(t.port=null));p="","file"==t.scheme?h=vt:J(t)&&i&&i.scheme==t.scheme?h=at:J(t)?h=ht:"/"==s[f+1]?(h=ot,f++):(t.cannotBeABaseURL=!0,t.path.push(""),h=yt)}break;case st:if(!i||i.cannotBeABaseURL&&"#"!=a)return S;if(i.cannotBeABaseURL&&"#"==a){t.scheme=i.scheme,t.path=i.path.slice(),t.query=i.query,t.fragment="",t.cannotBeABaseURL=!0,h=$t;break}h="file"==i.scheme?vt:ct;continue;case at:if("/"!=a||"/"!=s[f+1]){h=ct;continue}h=lt,f++;break;case ot:if("/"==a){h=ft;break}h=bt;continue;case ct:if(t.scheme=i.scheme,a==r)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query;else if("/"==a||"\\"==a&&J(t))h=ut;else if("?"==a)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query="",h=xt;else{if("#"!=a){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.path.pop(),h=bt;continue}t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query,t.fragment="",h=$t}break;case ut:if(!J(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,h=bt;continue}h=ft}else h=lt;break;case ht:if(h=lt,"/"!=a||"/"!=p.charAt(f+1))continue;f++;break;case lt:if("/"!=a&&"\\"!=a){h=ft;continue}break;case ft:if("@"==a){w&&(p="%40"+p),w=!0,o=d(p);for(var g=0;g<o.length;g++){var m=o[g];if(":"!=m||_){var b=Y(m,V);_?t.password+=b:t.username+=b}else _=!0}p=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&J(t)){if(w&&""==p)return"Invalid authority";f-=d(p).length+1,p="",h=dt}else p+=a;break;case dt:case pt:if(n&&"file"==t.scheme){h=gt;continue}if(":"!=a||v){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&J(t)){if(J(t)&&""==p)return E;if(n&&""==p&&(X(t)||null!==t.port))return;if(c=D(t,p))return c;if(p="",h=mt,n)return;continue}"["==a?v=!0:"]"==a&&(v=!1),p+=a}else{if(""==p)return E;if(c=D(t,p))return c;if(p="",h=wt,n==pt)return}break;case wt:if(!j.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&J(t)||n){if(""!=p){var y=parseInt(p,10);if(y>65535)return P;t.port=J(t)&&y===K[t.scheme]?null:y,p=""}if(n)return;h=mt;continue}return P}p+=a;break;case vt:if(t.scheme="file","/"==a||"\\"==a)h=_t;else{if(!i||"file"!=i.scheme){h=bt;continue}if(a==r)t.host=i.host,t.path=i.path.slice(),t.query=i.query;else if("?"==a)t.host=i.host,t.path=i.path.slice(),t.query="",h=xt;else{if("#"!=a){tt(s.slice(f).join(""))||(t.host=i.host,t.path=i.path.slice(),et(t)),h=bt;continue}t.host=i.host,t.path=i.path.slice(),t.query=i.query,t.fragment="",h=$t}}break;case _t:if("/"==a||"\\"==a){h=gt;break}i&&"file"==i.scheme&&!tt(s.slice(f).join(""))&&(Q(i.path[0],!0)?t.path.push(i.path[0]):t.host=i.host),h=bt;continue;case gt:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&Q(p))h=bt;else if(""==p){if(t.host="",n)return;h=mt}else{if(c=D(t,p))return c;if("localhost"==t.host&&(t.host=""),n)return;p="",h=mt}continue}p+=a;break;case mt:if(J(t)){if(h=bt,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(h=bt,"/"!=a))continue}else t.fragment="",h=$t;else t.query="",h=xt;break;case bt:if(a==r||"/"==a||"\\"==a&&J(t)||!n&&("?"==a||"#"==a)){if(".."===(u=(u=p).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(et(t),"/"==a||"\\"==a&&J(t)||t.path.push("")):nt(p)?"/"==a||"\\"==a&&J(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&Q(p)&&(t.host&&(t.host=""),p=p.charAt(0)+":"),t.path.push(p)),p="","file"==t.scheme&&(a==r||"?"==a||"#"==a))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==a?(t.query="",h=xt):"#"==a&&(t.fragment="",h=$t)}else p+=Y(a,H);break;case yt:"?"==a?(t.query="",h=xt):"#"==a?(t.fragment="",h=$t):a!=r&&(t.path[0]+=Y(a,q));break;case xt:n||"#"!=a?a!=r&&("'"==a&&J(t)?t.query+="%27":t.query+="#"==a?"%23":Y(a,q)):(t.fragment="",h=$t);break;case $t:a!=r&&(t.fragment+=Y(a,G))}f++}},Ct=function(t){var e,n,r=h(this,Ct,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(t),o=x(r,{type:"URL"});if(void 0!==i)if(i instanceof Ct)e=$(i);else if(n=kt(e={},String(i)))throw TypeError(n);if(n=kt(o,a,null,e))throw TypeError(n);var c=o.searchParams=new b,u=y(c);u.updateSearchParams(o.query),u.updateURL=function(){o.query=String(c)||null},s||(r.href=Et.call(r),r.origin=Pt.call(r),r.protocol=Mt.call(r),r.username=It.call(r),r.password=jt.call(r),r.host=At.call(r),r.hostname=Wt.call(r),r.port=Ot.call(r),r.pathname=Tt.call(r),r.search=Nt.call(r),r.searchParams=Lt.call(r),r.hash=Rt.call(r))},St=Ct.prototype,Et=function(){var t=$(this),e=t.scheme,n=t.username,r=t.password,i=t.host,s=t.port,a=t.path,o=t.query,c=t.fragment,u=e+":";return null!==i?(u+="//",X(t)&&(u+=n+(r?":"+r:"")+"@"),u+=B(i),null!==s&&(u+=":"+s)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==o&&(u+="?"+o),null!==c&&(u+="#"+c),u},Pt=function(){var t=$(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&J(t)?e+"://"+B(t.host)+(null!==n?":"+n:""):"null"},Mt=function(){return $(this).scheme+":"},It=function(){return $(this).username},jt=function(){return $(this).password},At=function(){var t=$(this),e=t.host,n=t.port;return null===e?"":null===n?B(e):B(e)+":"+n},Wt=function(){var t=$(this).host;return null===t?"":B(t)},Ot=function(){var t=$(this).port;return null===t?"":String(t)},Tt=function(){var t=$(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Nt=function(){var t=$(this).query;return t?"?"+t:""},Lt=function(){return $(this).searchParams},Rt=function(){var t=$(this).fragment;return t?"#"+t:""},Ft=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(s&&c(St,{href:Ft(Et,(function(t){var e=$(this),n=String(t),r=kt(e,n);if(r)throw TypeError(r);y(e.searchParams).updateSearchParams(e.query)})),origin:Ft(Pt),protocol:Ft(Mt,(function(t){var e=$(this);kt(e,String(t)+":",rt)})),username:Ft(It,(function(t){var e=$(this),n=d(String(t));if(!Z(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=Y(n[r],V)}})),password:Ft(jt,(function(t){var e=$(this),n=d(String(t));if(!Z(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=Y(n[r],V)}})),host:Ft(At,(function(t){var e=$(this);e.cannotBeABaseURL||kt(e,String(t),dt)})),hostname:Ft(Wt,(function(t){var e=$(this);e.cannotBeABaseURL||kt(e,String(t),pt)})),port:Ft(Ot,(function(t){var e=$(this);Z(e)||(""==(t=String(t))?e.port=null:kt(e,t,wt))})),pathname:Ft(Tt,(function(t){var e=$(this);e.cannotBeABaseURL||(e.path=[],kt(e,t+"",mt))})),search:Ft(Nt,(function(t){var e=$(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",kt(e,t,xt)),y(e.searchParams).updateSearchParams(e.query)})),searchParams:Ft(Lt),hash:Ft(Rt,(function(t){var e=$(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",kt(e,t,$t)):e.fragment=null}))}),u(St,"toJSON",(function(){return Et.call(this)}),{enumerable:!0}),u(St,"toString",(function(){return Et.call(this)}),{enumerable:!0}),m){var Dt=m.createObjectURL,Ut=m.revokeObjectURL;Dt&&u(Ct,"createObjectURL",(function(t){return Dt.apply(m,arguments)})),Ut&&u(Ct,"revokeObjectURL",(function(t){return Ut.apply(m,arguments)}))}v(Ct,"URL"),i({global:!0,forced:!a,sham:!s},{URL:Ct})}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={exports:{}};return t[r](s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";n(5306),n(285),n(2472);function t(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function e(t,e){return c(t,i(t,e,"get"))}function r(t,e,n){return f(t,i(t,e,"set"),n),n}function i(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e,n){return l(t,e),n}function o(t,e,n){return l(t,e),h(n,"get"),c(t,n)}function c(t,e){return e.get?e.get.call(t):e.value}function u(t,e,n,r){return l(t,e),h(n,"set"),f(t,n,r),r}function h(t,e){if(void 0===t)throw new TypeError("attempted to "+e+" private static field before its declaration")}function l(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}function f(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}addEventListener("load",(()=>{const n=t=>document.getElementById(t),i=(t,e=0)=>Math.floor(Math.random()*(t-e))+e,c=t=>t[i(t.length)],h=new RegExp(/[ -~]/),l=t=>{let e=0;for(const n of t)e+=h.test(n)?1:2;return e},f=Object.freeze([]),d=Object.freeze(""),p=(t,e,n)=>{const r=document.createElement("tr");for(const e of t){const t=document.createElement(n?"th":"td");void 0!==e.nodeType?t.appendChild(e):t.textContent=e,r.appendChild(t)}return is.文字列追加イベントを登録(r,e),r},w=(...t)=>{const e=document.createDocumentFragment();let n=0;for(const r of t){if(n++%2==0){void 0!==r&&e.appendChild(document.createTextNode(r));continue}const t=document.createElement("span");t.classList.add("強調"),t.textContent=r,e.appendChild(t)}return e};class v{static 初期化(){const t=z.データベースバージョン.取得();u(v,v,A,t);const e=indexedDB.open(o(v,v,W),t);e.addEventListener("upgradeneeded",a(v,v,_)),e.addEventListener("success",a(v,v,g))}static 新規プレイヤー登録(t,e){a(v,v,y).call(v,o(v,v,T).プレイヤー,o(v,v,O).プレイヤー一覧,t,new Map([[o(v,v,T).プレイヤー.プレイヤー軌跡,e]]),!0)}static プレイヤーを保存(t){o(v,v,j).transaction(o(v,v,O).プレイヤー一覧,"readwrite").objectStore(o(v,v,O).プレイヤー一覧).put(t)}static プレイヤーを読み込む(t,e){o(v,v,j).transaction(o(v,v,O).プレイヤー一覧,"readonly").objectStore(o(v,v,O).プレイヤー一覧).get(t).addEventListener("success",e)}static プレイヤーを削除(t){o(v,v,j).transaction(o(v,v,O).プレイヤー一覧,"readwrite").objectStore(o(v,v,O).プレイヤー一覧).delete(t)}static 場所別キャラクターを読み込む(t,e){a(v,v,C).call(v,`${t}${o(v,v,T).場所.キャラクター一覧.接尾辞}`,e)}static 場所別ログを読み込む(t,e){a(v,v,S).call(v,`${t}${o(v,v,T).場所.ログ.接尾辞}`,e)}static 場所別キャラクター一覧から削除および1人の登録または更新(t,e,n,r){const i=`${t}${o(v,v,T).場所.キャラクター一覧.接尾辞}`,s=o(v,v,j).transaction(i,"readwrite").objectStore(i);for(const t of e)s.delete(t);void 0!==n&&s.put(n,r)}static アイテムを送る(t,e,n){a(v,v,m).call(v,t,o(v,v,T).プレイヤー.アイテム倉庫.接尾辞,e,n)}static モンスターを送る(t,e,n){a(v,v,m).call(v,t,o(v,v,T).プレイヤー.モンスター倉庫.接尾辞,e,n)}static アイテムを入手(t,e){a(v,v,$).call(v,`${e}${o(v,v,T).プレイヤー.アイテム倉庫.接尾辞}`,t)}static 画像からモンスター倉庫IDを取得(){}static 何でも屋の依頼を読み込む(t){a(v,v,S).call(v,o(v,v,O).何でも屋依頼一覧,t)}static 習得錬金レシピを保存(t,e){a(v,v,k).call(v,`${e}${o(v,v,T).プレイヤー.錬金レシピ.接尾辞}`,t)}static アイテム図鑑を読み込む(t,e){a(v,v,S).call(v,`${t}${o(v,v,T).プレイヤー.アイテム図鑑.接尾辞}`,e)}static ジョブマスターを読み込む(t,e){a(v,v,S).call(v,`${t}${o(v,v,T).プレイヤー.ジョブマス.接尾辞}`,e)}static 新規クエスト登録(t){a(v,v,y).call(v,o(v,v,T).クエスト,o(v,v,O).クエスト一覧,t)}static クエスト保存(){}static チャットを書き込む(t,e){a(v,v,M).call(v,`${e}${o(v,v,T).場所.ログ.接尾辞}`,t)}static プレイヤー軌跡を追加(t,e){a(v,v,M).call(v,`${e}${o(v,v,O).プレイヤー軌跡.接尾辞}`,t)}static ニュースを追加(t){a(v,v,M).call(v,o(v,v,O).ニュース,t)}}function _(t){const e=t.target.result;if(t.oldVersion<1){e.createObjectStore(o(v,v,O).プレイヤー一覧,{keyPath:"_名前",autoIncrement:!0}),e.createObjectStore(o(v,v,O).ギルド一覧,{keyPath:"_名前",autoIncrement:!0});const t=e.createObjectStore(o(v,v,O).クエスト一覧,{autoIncrement:!0});t.createIndex("名前","名前",{unique:!0}),t.createIndex("最終更新日時","最終更新日時",{unique:!0}),e.createObjectStore(o(v,v,O).ニュース,{autoIncrement:!0});const n=e.createObjectStore(o(v,v,O).何でも屋依頼一覧,{keyPath:"_ID"});for(let t=0;t<_a;t+=1)n.add(wr.ダミーデータ取得(t));e.createObjectStore(o(v,v,O).更新連打,{autoIncrement:!0});for(const t of Ut.全場所名())a(v,v,x).call(v,e,o(v,v,T).場所,null,t)}z.データベースバージョン.保存(o(v,v,A))}function g(t){u(v,v,j,t.target.result)}function m(t,e,n,r){const i=`${n}${e}`,s=`${r}${e}`,c=o(v,v,j).transaction([i,s],"readwrite");c.objectStore(i).remove(a(v,v,b).call(v,t,e,n,c)),c.objectStore(s).add(アイテム名)}function b(t,e,n,r=o(v,v,j).transaction([`${n}${e}`],"readonly")){r.objectStore(n).index("_名前").get(t)}function y(t,e,n,r,i=!1){var s;null==(s=o(v,v,j))||s.close();const c=indexedDB.open(o(v,v,W),u(v,v,A,+o(v,v,A)+1));c.addEventListener("upgradeneeded",(()=>{const e=a(v,v,x).call(v,c.result,t,r);i&&(n.ID=e)})),c.addEventListener("success",(()=>{a(v,v,$).call(v,e,n)}))}function x(t,e,n,r=a(v,v,E).call(v)){for(const i of Object.values(e)){if("string"!=typeof i.接尾辞)throw new Error("接尾辞は文字列にしてください");const e=t.createObjectStore(`${r}${i.接尾辞}`,{autoIncrement:!0}),s=null==n?void 0:n.get(i);if(s&&e.add(s),i.索引リスト)for(const t of i.索引リスト)e.createIndex(t.名前,t.名前,t.固有?{unique:!0}:null)}return z.データベースバージョン.保存(o(v,v,A)),u(v,v,j,t),r}function $(t,e){o(v,v,j).transaction(t,"readwrite").objectStore(t).add(e)}function k(t,e){o(v,v,j).transaction(t,"readwrite").objectStore(t).put(e)}function C(t,e){o(v,v,j).transaction(t,"readonly").objectStore(t).openCursor().addEventListener("success",e)}function S(t,e){o(v,v,j).transaction(t,"readonly").objectStore(t).getAll().addEventListener("success",e)}function E(){return btoa(String.fromCharCode(...a(v,v,P).call(v,o(v,v,A)-1)))}function P(t){if("number"!=typeof t||t<0)throw new TypeError("0以上の数字にしてください");t=Math.floor(t);const e=[];let n=0;for(;0!==t;)e[n++]=t,t>>=8;return new Uint8Array(e)}function M(t,e){const n=o(v,v,j).transaction(t,"readwrite").objectStore(t),r=()=>{n.add(e.shift()).addEventListener("success",e.length>0?r:()=>{a(v,v,I).call(v,n)})};r()}function I(t){t.count().addEventListener("success",(e=>{const n=e.target.result-Xs;n>0&&t.openKeyCursor().addEventListener("success",(e=>{t.delete(IDBKeyRange.upperBound(e.target.result.key+n,!0))}))}))}s(v,"エラータイプ",Object.freeze({既に存在する:"ConstraintError"}));var j={writable:!0,value:void 0},A={writable:!0,value:void 0},W={writable:!0,value:Object.freeze("＠ぼっちぃー")},O={writable:!0,value:Object.freeze({プレイヤー一覧:"プレイヤー一覧",ログイン中プレイヤー一覧:"ログイン中プレイヤー一覧",ギルド一覧:"ギルド一覧",クエスト一覧:"クエスト一覧",何でも屋依頼一覧:"依頼一覧",ニュース:"ニュース",更新連打:"更新連打"})},T={writable:!0,value:Object.freeze({プレイヤー:Object.freeze({ホーム通知:Object.freeze({接尾辞:"a"}),錬金レシピ:Object.freeze({接尾辞:"A"}),戦闘報酬:Object.freeze({接尾辞:"b"}),ホームメンバー一覧:Object.freeze({接尾辞:"h",索引リスト:[{名前:"名前"}]}),ホームログ:Object.freeze({接尾辞:"H"}),アイテム倉庫:Object.freeze({接尾辞:"i",索引リスト:[{名前:"名前"}]}),アイテム図鑑:Object.freeze({接尾辞:"I",索引リスト:[{名前:"名前",固有:!0}]}),ジョブマス:Object.freeze({接尾辞:"J",索引リスト:[{名前:"名前",固有:!0}]}),入金:Object.freeze({接尾辞:"k",索引リスト:[{名前:"名前",固有:!0}]}),手紙送信ログ:Object.freeze({接尾辞:"l"}),手紙受信ログ:Object.freeze({接尾辞:"L"}),モンスター倉庫:Object.freeze({接尾辞:"m",索引リスト:[{名前:"名前"},{名前:"画像"}]}),モンスターブック:Object.freeze({接尾辞:"M"}),プロフィール:Object.freeze({接尾辞:"p"}),プレイヤー軌跡:Object.freeze({接尾辞:"P"}),すくしょ:Object.freeze({接尾辞:"s"}),ホームはなす:Object.freeze({接尾辞:"t"})}),クエスト:Object.freeze({メンバー一覧:Object.freeze({接尾辞:"q",索引リスト:[{名前:"名前",固有:!0}]}),ログ:Object.freeze({接尾辞:"Q"})}),ギルド:Object.freeze({メンバー一覧:Object.freeze({接尾辞:"q",索引リスト:[{名前:"名前",固有:!0}]}),ログ:Object.freeze({接尾辞:"Q"})}),場所:Object.freeze({キャラクター一覧:Object.freeze({接尾辞:"p",索引リスト:[{名前:"名前",固有:!0}]}),ログ:Object.freeze({接尾辞:"L"})})})};new WeakMap,new WeakMap,new WeakMap;var N=new WeakSet,L=new WeakMap,R=new WeakMap,F=new WeakMap,D=new WeakMap,U=new WeakMap;class z{constructor(t,e=!1,n){N.add(this),L.set(this,{writable:!0,value:void 0}),R.set(this,{writable:!0,value:void 0}),F.set(this,{writable:!0,value:void 0}),D.set(this,{writable:!0,value:void 0}),U.set(this,{writable:!0,value:void 0}),r(this,L,t),r(this,U,e),r(this,F,n),r(this,D,!1),Object.defineProperty(z,t,{value:this,writable:!1})}取得(){return e(this,D)||(t(this,N,B).call(this),r(this,D,!0)),e(this,R)}保存(t){r(this,R,t),o(z,z,q).setItem(e(this,L),t)}増減(t){if(!e(this,U))throw new TypeError("整数でないセーブデータは増減させられません");this.保存(this.取得()+t)}削除(){r(this,R,e(this,F)),o(z,z,q).removeItem(e(this,L))}static 読み込み(){new z("更新連打回数",!0,0),new z("データベースバージョン",!0,1),new z("プレイヤー一覧更新日時",!0,-1/0),new z("登録者数",!0,0)}}function B(){const t=o(z,z,q).getItem(e(this,L));r(this,R,t??e(this,R)),e(this,U)&&r(this,R,parseInt(e(this,R)))}var q={writable:!0,value:localStorage};class G{static 表示(t){o(G,G,V).textContent=t,Mi.一覧("エラー画面").表示(),Ss.トップ表示(),n("エラー-トップへ").addEventListener("click",a(G,G,H))}static ページが見つかりませんでした(){G.表示("ページが見つかりませんでした")}static プレイヤーが存在しません(t){G.表示(`そのような名前${t}のプレイヤーが存在しません`)}}function H(){Mi.一覧("トップ画面").表示()}var V={writable:!0,value:n("エラー内容")};class Y{constructor(t,e,n=aa,r,i){s(this,"_名前",void 0),s(this,"_色",void 0),s(this,"_アイコン",void 0),s(this,"_最終更新日時",void 0),s(this,"_場所別ID",void 0),this._名前=t,this._アイコン=e,this._色=n,this._最終更新日時=r,this._場所別ID=i}get 名前(){return this._名前}get 場所別ID(){return this._場所別ID}get 最終更新日時(){return this._最終更新日時}チャット(t,e){return new Bn(this._名前,this._色,t,Or.取得(),e)}場所用出力(){return Y.場所用出力(this)}場所から削除する(){return this._最終更新日時+oa<Or.取得()}はあなた(){return this._名前===ft.名前}はNPC色(){return this._色===aa}色を変更(t){if("string"!=typeof t)return;const[,e]=t.match(Ma);return void 0!==e?(this._色=e,e):void 0}static 場所用出力(t){const e=document.createElement("div"),n=document.createElement("div"),r=document.createElement("img");return e.classList.add("メンバー"),n.style.color=t._色,n.classList.add("メンバー名"),n.textContent=t._名前,e.appendChild(n),r.src=`resource/icon/${t._アイコン}`,r.alt=t._名前,e.appendChild(r),is.文字列追加イベントを登録(e,`>${t._名前} `),e}static オブジェクトから({_名前:t,_アイコン:e,_色:n,_最終更新日時:r},i){return new Y(t,e,n,r,i)}}class K extends Y{constructor(t){super(t._名前,t._色,t._アイコン,t._最終更新日時),s(this,"_ギルド名",void 0),s(this,"_めっせーじ",void 0),this._めっせーじ=t._めっせーじ,this._ギルド名=t._ギルド名}出力(t=!0,e=!1,n=!1){return`<span${n?d:` style="color: ${this._色}"`}><img src="${this._アイコン}" />${this._名前}${t&&this._ギルド名?`＠${this._ギルド名}`:d}${e?`＠${this._めっせーじ}`:d}</span$>`}}var J=new WeakMap,X=new WeakSet,Z=new WeakSet,Q=new WeakSet,tt=new WeakSet;class et extends K{constructor(e){super(e),tt.add(this),Q.add(this),Z.add(this),X.add(this),s(this,"_ID",void 0),s(this,"_ギルド",void 0),s(this,"_性別",void 0),s(this,"_最終ログイン日時",void 0),s(this,"_現在地名",void 0),s(this,"_家のユーザー名",void 0),s(this,"_家のユーザーID",void 0),J.set(this,{writable:!0,value:void 0}),s(this,"_ステータス",void 0),s(this,"_レベル",void 0),s(this,"_経験値",void 0),s(this,"_現職",void 0),s(this,"_前職",void 0),s(this,"_転職回数",void 0),s(this,"_所持金",void 0),s(this,"_カジノコイン",void 0),s(this,"_小さなメダル",void 0),s(this,"_福引券",void 0),s(this,"_レアポイント",void 0),s(this,"_疲労",void 0),s(this,"_オーブフラグ",void 0),s(this,"_預かり所が空き",void 0),s(this,"_宝を取得済み",void 0),s(this,"_飲食済み",void 0),s(this,"_錬金完成済み",void 0),s(this,"_錬金中レシピ",void 0),s(this,"_実績",void 0),s(this,"_ダンジョンイベント",void 0),s(this,"_錬金レシピ",void 0),s(this,"_起床時刻",void 0);for(const[n,r]of Object.entries(e))switch(n){case"_ステータス":this._ステータス=bt.オブジェクトから(r);break;case"_所持金":case"_カジノコイン":case"_福引券":case"_小さなメダル":case"_レアポイント":this[n]=xt.オブジェクトから(r);break;case"_現職":case"_前職":this[n]=r?kt.オブジェクトから(r):void 0;break;case"_現在地名":t(this,Z,nt).call(this,Ut.一覧(r));break;default:this[n]=r}}get _現在地(){return e(this,J)}set _現在地(t){this._現在地名=t,r(this,J,Ut.一覧(this._現在地名??"交流広場"))}get ログ名(){return"家"===this._現在地名?this._家のユーザーID:this._現在地名}set ID(t){this._ID=t}get 最終ログイン日時(){return this._最終ログイン日時}可能なら転職(t){return!!t.に転職できる(this)&&(this._転職回数+=1,this._レベル=1,this._経験値=0,t===this._現職||(this._前職=this._現職,this._現職=t),!0)}可能ならレベルアップ(){return!(this._レベル*this._レベル*10>this._経験値)&&(this._現職.レベルアップ(this.ステータス),!0)}一気にレベルアップ(){for(;可能ならレベルアップ(););}現職SP増加(t){this._現SP;this._現SP+=t}async アイテムを使う(t){const e=Er.一覧(t);if(void 0===t||void 0===e||!await this.倉庫に存在する(t))return!1;e.使う()&&(Er===this.道具.名前&&(this.道具=void 0),this.倉庫から取り除く(Er))}軌跡に書き込み(t){v.プレイヤー軌跡を追加([t],this._ID)}睡眠(t,e=!0){this._起床時刻=t+(e||0===this.睡眠時間取得()?Or.取得():this._起床時刻)}睡眠時間取得(){return Math.max(this._起床時刻-Or.取得(),0)}更新連打確認(){const t=parseInt(Gs.getItem("更新連打回数"));if(t){for(const[e,n]of sa)if(!(e>t))return this.睡眠(n,!1),Gs.setItem("更新連打回数",0),v.プレイヤーを保存(this),G.表示(`<span class="die">前回のプレイ時に更新連打が${e}回を超えていたので、${Math.round(n/60)}分間睡眠状態となります</span>`),!0;return Gs.setItem("更新連打回数",0),!1}}更新連打追加(){Gs.setItem("更新連打回数",parseInt(Gs.getItem("更新連打回数")+1))}データベースに保存(){v.プレイヤーを保存(this)}データベースに錬金レシピを保存(t){v.習得錬金レシピを保存(t,this._ID)}コンプリート(t){(class{}).登録(new K(this));const e=document.createElement("span");e.classList.add("comp"),e.textContent=`${t} Complete!!`,Wr.書き込む(e),e.textContent=`${t} ${ft}が${t}をコンプリートする！`,Ts.書き込む(e)}バックアップ(){}場所移動(e){t(this,Q,rt).call(this),t(this,Z,nt).call(this,e)}async ログイン(e,n){t(this,tt,at).call(this,e)||this.更新連打確認()||(this._めっせーじ=n,this._最終更新日時=Or.取得(),bi.必要なら一覧出力(),v.プレイヤーを保存(this),await a(et,et,it).call(et))}ログアウト(){throw t(this,Q,rt).call(this),this.データベースに保存(),"ログアウト"}削除(t=!0){this._ギルド.メンバー削除(this),o(et,et,ot).remove(this),t&&et.保存()}獲得または倉庫に送る(t){}倉庫にアイテムを送る(t){v.アイテムを入手(t,this._ID)}倉庫から取り除く(t){v.アイテムを破棄(t,this._ID)}装備がないなら装備(t){return!0}依頼を完了する(t,e){var n;(this.倉庫にアイテムを送る(t),e)&&(null==(n=this._ギルド)||n.ポイント増加(e));this._実績.依頼ポイント増加()}錬金を完成させる(){if(!this._錬金完成済み)return;const t=this._錬金中レシピ;return this.倉庫にアイテムを送る(t.完成品名),this._実績.錬金ポイント増加(),t.作成済み=!0,this.錬金レシピを登録(t),this._錬金中レシピ=null,this._錬金完成済み=!1,t}は自分の家にいる(){return this._ID===this._家のユーザーID}疲労確認(){return this._疲労>=ua&&(ki.追加("疲労がたまっています。「＠ほーむ」で家に帰り「＠ねる」で休んでください","＠ほーむ"),!0)}static 新規登録(t,e,n,r){try{a(et,et,st).call(et,t,e,n,r)}catch(t){return void G.表示(t)}const s={HP:i(33,30),MP:i(9,6),攻撃力:i(9,6),守備力:i(9,6),素早さ:i(9,6)},o=new et({_名前:t,_パスワード:e,_現職:{_職業名:n,_SP:0},_所持金:{_所持:200},_色:"#FFFFFF",_性別:r,_現在地名:"ルイーダの酒場",_転職回数:0,_レベル:1,_アイコン:"job/58_m.gif",_ステータス:s});return z.登録者数.増減(1),Ts.書き込み(`<span class="強調">${t}</span> という冒険者が参加しました`),Mi.一覧("トップ画面").新規登録完了表示(t,e,n,r,s),v.新規プレイヤー登録(o,`冒険者 <span class="強調">${t}</span> 誕生！`),o}static データベースから読み込む(t,e){v.プレイヤーを読み込む(t,e)}}function nt(t){r(this,J,t??t.一覧("交流広場")),this._現在地名=e(this,J).名前}function rt(){v.場所別キャラクター一覧から削除および1人の登録または更新(this.ログ名,[this._場所別ID]),this._場所別ID=void 0}function it(){const t=Or.取得();if(z.プレイヤー一覧更新日時.取得()+60*na*60*24>t)return;const e=document.createElement("tbody");Vr.ランキング作成開始(),Vr.ランキング出力(),n("プレイヤー一覧").appendChild(e),z.プレイヤー一覧更新日時.保存(t)}function st(t,e,n,r){if(!t)throw new Error("プレイヤー名が入力されていません");if(e===d)throw new Error("パスワードが入力されていません");if(r===d)throw new Error("性別が入力されていません");if(o(et,et,ct).test(t))throw new Error("プレイヤー名に不正な文字( ,;\"'&<>@ )が含まれています");if(o(et,et,ut).test(t))throw new Error("プレイヤー名に不正な文字( ＠ )が含まれています");if(o(et,et,ht).test(t))throw new Error("プレイヤー名に不正な空白が含まれています");if(l(t)>8)throw new Error("プレイヤー名は全角４(半角８)文字以内です");if(o(et,et,lt).test(e))throw new Error("パスワードは半角英数字で入力して下さい");const i=e.length;if(i<4||i>12)throw new Error("パスワードは半角英数字４～12文字です");if(t===e)throw new Error("プレイヤー名とパスワードが同一文字列です");if("男"!==r&&"女"!==r)throw new Error("性別が異常です");if(!la.has(n))throw new Error("職業が異常です");if(z.登録者数.取得()>=Ys)throw new Error("現在定員のため、新規登録は受け付けておりません")}function at(t){return this._パスワード!==t&&(G.表示("パスワードが違います"),!0)}var ot={writable:!0,value:void 0},ct={writable:!0,value:Object.freeze(new RegExp(/[,;\"\'&<>\@]/))},ut={writable:!0,value:Object.freeze(new RegExp(/＠/))},ht={writable:!0,value:Object.freeze(new RegExp(/＠/))},lt={writable:!0,value:Object.freeze(new RegExp(/[^0-9a-zA-Z]/))};class ft{static toString(){return ft.名前}static ログイン要求(t,e,n){qs()||(Or.更新(),u(ft,ft,wt,t),u(ft,ft,vt,e),u(ft,ft,_t,n),et.データベースから読み込む(t,a(ft,ft,dt)))}static チャット書き込み予約(t,e){t&&(void 0===o(ft,ft,mt)?(u(ft,ft,mt,ft.メンバー.チャット(t,e)),o(ft,ft,mt).内容追加(" ")):o(ft,ft,mt).内容追加(t,e))}static 場所移動(t){ft.チャット書き込み停止(),ft.メンバー.場所移動(t),t.更新要求()}static プレイヤーの家に移動(t=ft.メンバー){ft.メンバー._家のユーザー名=t.名前,ft.メンバー._家のユーザーID=t._ID,ft.場所移動(Ut.一覧("家"))}static 予約チャットを書き込む(){if(o(ft,ft,gt))return u(ft,ft,mt,void 0),void u(ft,ft,gt,!1);void 0!==o(ft,ft,mt)&&(ft.現在地.チャット書き込み(o(ft,ft,mt)),u(ft,ft,mt,void 0))}static チャット書き込み停止(t=!0){u(ft,ft,gt,!!t)}static ろぐあうと(){ft.チャット書き込み停止(),Mi.一覧("トップ画面").表示(),ft.メンバー.ログアウト()}static ヘッダー用出力(){var t;const e=w("ゴールド ",null==(t=ft.メンバー._所持金)?void 0:t.所持,"G / 攻撃力 ",ft.メンバー._ステータス.攻撃力," / 守備力 ",ft.メンバー._ステータス.守備力," / 素早さ ",ft.メンバー._ステータス.素早さ," /");return ft.メンバー._武器&&e.appendChild(document.createTextNode(` E：${ft.メンバー._武器}`)),ft.メンバー._防具&&e.appendChild(document.createTextNode(` E：${ft.メンバー._防具}`)),ft.メンバー._道具&&e.appendChild(document.createTextNode(` E：${ft.メンバー._道具}`)),e}static キャラクターへ(){return Y.オブジェクトから(o(ft,ft,pt),o(ft,ft,pt)._場所別ID)}static get 現在地(){return o(ft,ft,pt)._現在地}static get メンバー(){return o(ft,ft,pt)}static get 名前(){return o(ft,ft,wt)}static set 場所別ID(t){ft.メンバー._場所別ID=t}}async function dt(t){const e=t.target.result;if(void 0===e)return void G.プレイヤーが存在しません(ft.名前);const n=new et(e);u(ft,ft,pt,n),await n.ログイン(o(ft,ft,vt),o(ft,ft,_t)),n._現在地.更新要求()}var pt={writable:!0,value:void 0},wt={writable:!0,value:void 0},vt={writable:!0,value:void 0},_t={writable:!0,value:void 0},gt={writable:!0,value:void 0},mt={writable:!0,value:void 0};class bt{constructor(t=0,e=0,n=0,r=0,i=0){this.HP=t,this.MP=e,this.攻撃力=n,this.守備力=r,this.素早さ=i}プレイヤー一覧用出力(){return[this.HP,this.MP,this.攻撃力,this.守備力,this.素早さ]}増加(t,e=!0){this.HP+=t.HP,this.MP+=t.MP,this.攻撃力+=t.攻撃力,this.守備力+=t.守備力,this.素早さ+=t.素早さ,e&&カンストチェック()}カンストチェック(){this.HP=Math.min(this.HP,ha.HP),this.MP=Math.min(this.HP,ha.HP),this.攻撃力=Math.min(this.攻撃力,ha.攻撃力),this.守備力=Math.min(this.守備力,ha.守備力),this.素早さ=Math.min(this.素早さ,ha.素早さ)}static オブジェクトから(t){return new bt(t.HP,t.MP,t.攻撃力,t.守備力,t.素早さ)}}var yt=new WeakMap;class xt{constructor(t,e){s(this,"_所持",void 0),yt.set(this,{writable:!0,value:void 0}),r(this,yt,e),this._所持=t}収支(t,e=!1){const n=parseInt(t);if(Number.isNaN(n))throw new TypeError(`${t}が数値に変換できませんでした`);return n<0&&this._所持+n<0?(e&&(this._所持=0),!1):(this._所持+=n,!0)}ヘッダー用出力(){return w(void 0,this._所持,e(this,yt))}get 所持(){return this._所持}static オブジェクトから(t,e){return new xt((null==t?void 0:t._所持)??0,e)}}var $t=new WeakMap;class kt{constructor(t,e){s(this,"_職業名",void 0),s(this,"_SP",void 0),$t.set(this,{writable:!0,value:void 0}),r(this,$t,It.一覧(t)),this._職業名=t,this._SP=e}レベルアップ(t){t.増加(e(this,$t).成長結果取得()),this._SP+=1}toString(){return`${this._職業名}(${this._SP})`}get 名前(){return this._職業名}get SP(){return this._SP}static オブジェクトから(t){return new kt(t._職業名,t._SP)}get _職業(){return e(this,$t)}}class Ct extends kt{constructor(t,e,n){super(t,e),s(this,"_性別",void 0),this._性別=n}static 図鑑出力(t){const e=new Map(t.map(a(Ct,Ct,St))),r=document.createDocumentFragment();let i,s=0;for(const t of It.全て()){s++%Ia==0&&(i=document.createElement("tr"),r.appendChild(i));const n=e.get(t.名前);i.appendChild(t.図鑑用出力(null==n?void 0:n._性別,null==n?void 0:n._SP))}return n("ジョブマスター率").textContent=It.ジョブマスター率を取得(e.size),r}static オブジェクトから({_職業名:t,_SP:e,_性別:n}){return new Ct(t,e,n)}}function St(t){const e=Ct.オブジェクトから(t);return[e.名前,e]}var Et=new WeakSet,Pt=new WeakMap,Mt=new WeakMap;class It extends class{constructor(t,e){this._名前=t,this._スキル=e}get 名前(){return this._名前}}{constructor(t,e,n,i){super(t,e),Et.add(this),Pt.set(this,{writable:!0,value:void 0}),Mt.set(this,{writable:!0,value:void 0}),r(this,Pt,n),r(this,Mt,i),o(It,It,At).set(t,this)}アイコン名(t){return`resource/icon/job/${i(74,1)}_${t===女?"f":"m"}.gif`}に転職できる(n){return e(this,Mt).を満たしている(n,t(this,Et,jt).call(this,n))}成長結果取得(){return e(this,Pt).成長結果取得()}図鑑用出力(t,e){const n=document.createElement("td"),r=document.createElement("div"),i=document.createElement("img");if(r.classList.add("ジョブマスターの職業"),void 0===t?(n.classList.add("未転職"),i.src=fa):(i.src=this.アイコン名(t),i.alt=this.名前),void 0!==e){const t=document.createElement("div");t.classList.add("ジョブマスター済み"),t.textContent=`★SP${e}`,t.appendChild(t)}else r.classList.add("未マスター");return r.appendChild(i),r.appendChild(document.createTextNode(this.名前)),n.appendChild(r),n}static 一覧(t){return o(It,It,At).get(t)??void 0}static*全て(){for(const[,t]of o(It,It,At))yield t}static 初期化(){u(It,It,At,new Map([new It("戦士",new Ot(6,1,3,5,2),new Ft),new It("剣士",new Ot(6,1,3,5,2),new Ft)].map((t=>[t.名前,t]))))}static ジョブマスター率を取得(t){return Math.trunc(t/o(It,It,At).size)}}function jt(t){return t.現職===this||t.前職===this}var At={writable:!0,value:new Map},Wt=new WeakMap;class Ot{constructor(t,e,n,i,s){Wt.set(this,{writable:!0,value:void 0}),r(this,Wt,new bt(t,e,n,i,s))}成長結果一括取得(t){const e=new bt;for(const n=0;n<t;n+=1)e.増加(this.成長取得(),!1);return e}成長結果取得(){return 成長結果取得(e(this,Wt))}static 成長結果取得(t){return new bt(a(this,Ot,Tt).call(this,t.HP)+1,a(this,Ot,Tt).call(this,t.MP),a(this,Ot,Tt).call(this,t.攻撃力),a(this,Ot,Tt).call(this,t.守備力),a(this,Ot,Tt).call(this,t.素早さ))}}function Tt(t){const e=i(t);return e>9?Math.floor(9*Math.random())+1:e}var Nt=new WeakMap,Lt=new WeakMap,Rt=new WeakMap;class Ft{constructor(t,e,n){Nt.set(this,{writable:!0,value:void 0}),Lt.set(this,{writable:!0,value:void 0}),Rt.set(this,{writable:!0,value:void 0}),r(this,Nt,t),r(this,Lt,e),r(this,Rt,n)}を満たしている(t,n){var r;return!(e(this,Lt)&&e(this,Lt)!=e(this,Lt)||!n&&e(this,Nt)&&!e(this,Nt).has(t.現職)&&!e(this,Nt).has(t.前職)||(null==(r=e(this,Rt))?void 0:r.call(this,t)))}}var Dt=new WeakSet;class Ut{constructor(t,e=Ut._訪問方法.特殊,n){Dt.add(this),s(this,"_名前",void 0),s(this,"_NPC",void 0),s(this,"_背景画像",void 0),s(this,"_こうどうリストリスト",[]),s(this,"_キャラクターリスト",new Set),s(this,"_チャット欄",void 0),s(this,"_NPCの発言",void 0);const r=this.constructor.name;this._名前=r,this._背景画像=t,this._訪問方法=e,this._チャット欄=new zn(r),this._NPC=n}get 名前(){return this._名前}get 背景画像(){return this._背景画像}更新要求(){new Ln(this)}メイン(e,n){this._キャラクターリスト=e,this._キャラクター一覧を更新(),this._チャットリスト=Array.from(n,Bn.オブジェクトから),this._名前からキャラクター取得用キャッシュ=new Map(Array.from(e,a(Ut,Ut,Bt),Ut));const r=is.内容.replace("<","&lt;").replace(">","&gt;").replace('"',"&quot;");is.保存した内容を消去(),ft.チャット書き込み予約(r);try{t(this,Dt,zt).call(this,r),this.メイン2()}catch(t){if("string"!=typeof t)throw t}}メイン2(){ft.予約チャットを書き込む(),this._チャット欄.更新(this._チャットリスト),ft.メンバー.データベースに保存(),Mi.一覧("ゲーム画面").更新(this)}ヘッダー出力(t){const e=document.createDocumentFragment();return e.appendChild(this._ヘッダー用出力(t)),e.appendChild(ft.ヘッダー用出力()),e}固定NPC出力(){return this._NPC.場所用出力()}メンバー出力(){const t=document.createDocumentFragment();this._NPC&&t.appendChild(this._NPC.場所用出力());for(const e of this._キャラクターリスト)t.appendChild(e.場所用出力());return t}こうどう出力(){const t=document.createDocumentFragment();if(!this._こうどうリストリスト)return t;for(const e of this._こうどうリストリスト)t.appendChild(e.出力());return t}チャット出力(){return this._チャット欄.出力()}チャット書き込み(t){const e=this._NPCのチャット?[t,this._NPCのチャット]:[t];this._チャットリスト.push(...e),v.チャットを書き込む(e,ft.メンバー.ログ名),this._NPCのチャット=void 0}NPCに話させる(t,e){this._NPCのチャット?this._NPCのチャット.内容追加(t,e):this._NPCのチャット=(this._NPC??o(Ut,Ut,Gt)).チャット(t,e)}static 初期化(){u(Ut,Ut,Gt,new Y(da)),Vt.初期化(),u(Ut,Ut,qt,new Map([new Yt,new Jt,new ne,new ie,new se,new ae,new oe,new ce,new le,new je,new Ae,new We,new Oe,new Te,new Ne,new Le,new Re,new ze,new He,new Ke,new Je,new en,new sn,new cn,new wn,new _n,new Mn,new Cn("ガイア国","quest.gif",10,new Set(["021","022","023","024","025","026","027","028"]),5e3,20),new Cn("スライム町","stage16.gif",10,new Set(["013","014","015","016","017","018","019","020"]),3e3,15),new Cn("キノコ町","park.gif",10,new Set(["005","006","007","008","009","010","011","012"]),1500,10),new Cn("メケメケ村","stage8.gif",10,new Set(["001","002","003","004"]),500,5)].map(a(Ut,Ut,Bt),Ut)))}static*全場所名(t){for(const[e,n]of o(Ut,Ut,qt))void 0!==t&&n._訪問方法!==t||(yield e)}static 一覧(t){return o(Ut,Ut,qt).get(t)}_キャラクター一覧を更新(){const t=new Set;let e;for(const n of this._キャラクターリスト){const r=n.場所別ID;n.場所から削除する()?(this._キャラクターリスト.delete(n),t.add(r)):n.はあなた()&&(e=r,ft.場所別ID=r)}const n=ft.キャラクターへ();void 0===e&&this._キャラクターリスト.add(n),v.場所別キャラクター一覧から削除および1人の登録または更新(ft.メンバー.ログ名,t,n,e)}_名前からキャラクター取得(t){return this._名前からキャラクター取得用キャッシュ.get(t)}_NPCをしらべる(t){ki.追加(t??"しかし何も見つからなかった…")}_はなす(...t){null!=t&&t.length?this.NPCに話させる(c(t)):ki.追加("返事がない、ただのしかばねのようだ…")}_ヘッダー用出力(t,e=!0){return document.createTextNode(`【${t??this.名前}】${e?" ":d}`)}}function zt(t){const e=t.match(o(Ut,Ut,Ht));if(!e)return!1;const[,n,r]=e;for(const t of this._こうどうリストリスト)if(t.名前が一致したこうどうを実行(n,r))return!0;return!1}function Bt(t){return[t.名前,t]}var qt={writable:!0,value:void 0},Gt={writable:!0,value:void 0},Ht={writable:!0,value:new RegExp(/＠(.+?)(?:[\x20　]?&gt;(.+?))?(?:[\x20　]|$)/)};s(Ut,"_訪問方法",Object.freeze({特殊:Symbol("特殊"),いどう:Symbol("いどう"),まち:Symbol("まち")}));class Vt extends Ut{constructor(){super(...arguments),s(this,"_一般的なこうどう",void 0),this._こうどうリストリスト=[Vt._一般的なこうどう]}static 初期化(){Vt._一般的なこうどう=new Hn(null,new Kn,new Jn,new Yn("ほーむ",(()=>{ft.プレイヤーの家に移動()})),new Yn("ぎるど",(()=>{}),ft.ギルド所属中),new Yn("ささやき",(()=>{})),new Yn("はなす",(()=>{ft.現在地._はなす()})),new Yn("しらべる",(t=>{var e;ft.チャット書き込み停止(),(null==(e=ft.現在地._NPC)?void 0:e.名前)!==t||ft.現在地._NPCをしらべる()})),new Yn("ろぐあうと",(()=>{ft.ろぐあうと()})),new Yn("すくしょ",(()=>{})),new Yn("ボーナス",(()=>{ft.メンバー._所持金.収支(1e4),ft.メンバー._カジノコイン.収支(1e4),ft.メンバー._福引券.収支(1e4)})))}}class Yt extends Vt{constructor(){super("quest.gif",Ut._訪問方法.いどう),this._こうどうリストリスト.unshift(new Hn(null,new Qn,new Yn))}ヘッダー出力(){return super.ヘッダー出力("冒険中のパーティー")}}var Kt=new WeakSet;class Jt extends Vt{constructor(){super("casino.gif",Ut._訪問方法.いどう,new Y("@ﾊﾞﾆｰ","chr/020.gif")),Kt.add(this),this._こうどうリストリスト.unshift(new Hn(null,new Yn("つくる"),new Yn("さんか"),new Yn("けんがく"),new Yn("＄1すろっと",(()=>{t(this,Kt,Xt).call(this,1)})),new Yn("＄10すろっと",(()=>{t(this,Kt,Xt).call(this,10)})),new Yn("＄50すろっと",(()=>{t(this,Kt,Xt).call(this,50)})),new Yn("＄100すろっと",(()=>{t(this,Kt,Xt).call(this,100)})),new Yn("こうかん"),new Yn("りょうがえ")))}ヘッダー出力(){const t=document.createDocumentFragment();return t.appendChild(super._ヘッダー用出力()),t.appendChild(document.createTextNode(" コイン")),t.appendChild(ft.メンバー._カジノコイン.ヘッダー用出力()),t.appendChild(document.createTextNode("枚 / ゴールド")),t.appendChild(ft.メンバー._所持金.ヘッダー用出力()),t.appendChild(document.createTextNode("G")),t}_はなす(){super._はなす("コインは１枚20Gです☆","ゴールドをコインに両替してね☆","賞品は他ではなかなか手に入れることができないレアなアイテムばかりよ☆","スロットの絵柄を３つそろえるとコインが増えて幸せになれるわよ☆","ゆっくりしていってね☆")}_NPCをしらべる(){super._NPCをしらべる(`${this._NPC.名前}「きゃぁッ☆エッチィ～☆」`)}}function Xt(t){if(ft.メンバー.疲労確認())return;if(!ft.メンバー._カジノコイン.収支(-t))return void ki.追加(`＄${t}スロットをするコインが足りません。「＠りょうがえ」でコインを両替してください`,"＠りょうがえ ");const e=[c(pa),c(pa),c(pa)],n=[`$${t}スロット`,`【${e[0].記号}】【${e[1].記号}】【${e[2].記号}】`];let r=0;e[0]===e[1]&&(e[1]===e[2]?(r=t*e[0].倍率,n.push(`なんと!! ${e[0].記号} が3つそろいました!!`,"おめでとうございます!!",`***** コイン ${r} 枚 GET !! *****`)):e[0].おまけの倍率&&(r=t*e[0].おまけの倍率,n.push("チェリーが2つそろいました♪",`コイン ${r} 枚Up♪`))),0===r&&n.push("ハズレ"),ft.メンバー._カジノコイン.収支(r),ki.追加(n,`＠＄${t}すろっと`)}var Zt=new WeakMap,Qt=new WeakMap,te=new WeakMap;class ee{constructor(t,e,n){Zt.set(this,{writable:!0,value:void 0}),Qt.set(this,{writable:!0,value:void 0}),te.set(this,{writable:!0,value:void 0}),r(this,Zt,t),r(this,Qt,e),r(this,te,n)}get 記号(){return e(this,Zt)}get 倍率(){return e(this,Qt)}get おまけの倍率(){return e(this,te)}}class ne extends Vt{constructor(){super("depot.gif",Ut._訪問方法.いどう,new Y("@ﾆｷｰﾀ","chr/003.gif")),this._こうどうリストリスト.unshift(new Hn(null,new Yn("うる"),new Yn("あずける"),new Yn("ひきだす"),new Yn("おくる")))}_はなす(){super._はなす(`ここは${this.名前}だけど、何か用かい？`,`${ft}は、最大$max_depot個まで預けることができるぜ`,"転職回数が増えるごとに預けられる個数も増えていくぜ","＠おくる時は、送るアイテムと相手の名前を教えてくれな","＠せいとんすると、武器、防具、道具の順に整頓できるぜ","預かり所がまんぱんだと、相手からのアイテムが受け取れないぜ","預かり所がまんぱんだと、クエストでの宝物を手に入れることができないぜ","ここで売るのも専門店で売るのも売値は変わらないぜ")}ヘッダー出力(){const t=document.createDocumentFragment();return t.appendChild(this._ヘッダー用出力()),t.appendChild(w("倉庫：",999,"/",99999," / ")),t.appendChild(ft.ヘッダー用出力()),t}}class re extends Vt{constructor(t,e,n){super(t,e,n),this._こうどうリストリスト.unshift(new Hn(null,new Yn("かう")))}_かう(t,e,n,r,i="かう"){const s=e.get(t);s?ft.メンバー._所持金.支出(s)?ft.装備またはアイテム倉庫に送る(s):ki.追加(r):ki.追加([n,商品.陳列棚出力(e,i)])}}class ie extends re{constructor(){super("weapon.gif",Ut._訪問方法.いどう,new Y("@ﾌﾞｯｷｰ","chr/005.gif")),this._こうどうリストリスト[0].こうどう追加(new Yn("うる"))}_はなす(){super._はなす("ここは武器屋だ！戦いに武器は必須だぜ！",`${ft}には$weas[$sales[int(rand(@sales))]][1]なんか良いんじゃねぇか？`,`${ft}には$weas[$sales[int(rand(@sales))]][1]がオススメだ！`,"銅の剣はどぉの剣？","よぉ！何か買っていくのか？","素早さが高いと会心の一撃や回避率が上がるぞ！","攻撃力が高い分、重さも重くなり素早さが下がる。つまり、自分に合った装備をしろってことだ！","この世界のどこかに、自分の強さにより武器の強さも変わる武器があるらしいぜ！","モンスターにやられたとしてもお金が半分になることはないぜ！",`${ft}の攻撃力は${ft.メンバー._ステータス.攻撃力}か…。Lv.${ft.メンバー._レベル}にしてはなかなかだな！`,`${ft}の転職回数は${ft.メンバー._転職回数}回か！転職回数が多ければ熟練者と見なし、もっと強い武器を売ってやるぜ！`)}_NPCをしらべる(){super._NPCをしらべる(`${this._NPC.名前}「な、な、何を見ているッスか！？」`)}_かう(t){super._かう(t,[],"何を買うんだい？","お金が足りないみたいだぜ")}}class se extends re{constructor(){super("armor.gif",Ut._訪問方法.いどう,new Y("@ｱﾏﾉ","chr/008.gif")),this._こうどうリストリスト[0].こうどう追加(new Yn("うる"))}_はなす(){super._はなす("ここは防具屋ッス！防具を装備すればダメージを減らすことができるッス！","素早さがないと攻撃をかわすことができないッス！","素早さに自信がない場合は、ステテコパンツがオススメッス！","強さや重さは１回の戦闘ごとで変わるッス！",`${ft}さんは$arms[$sales[int(rand(@sales))]][1]なんて似合いそうッスね！`,"重い鎧でガチガチに固めるか、ヒラヒラの服で回避率を上げるのか、どちらが好きッスか？","いつかあっしもあぶない水着を着るのが夢ッス",`${ft}さんの転職回数は${ft.メンバー._転職回数}回ッスね！転職回数が多いと熟練者と見なし売れる物が増えるッス！`,`${ft}さんの防御力は${ft.メンバー._ステータス.守備力}ッスね！。なかなかの固さッスね！`)}_NPCをしらべる(){super._NPCをしらべる(`${this._NPC.名前}「な、な、何を見ているッスか！？」`)}_かう(t){super._かう(t,[],"どれを買うッスか？","残念ながら、お金が足りないッス")}}class ae extends re{constructor(){super("item.gif",Ut._訪問方法.いどう,new Y("@ｱｲﾃﾑｺ","chr/004.gif")),this._こうどうリストリスト[0].こうどう追加(new Yn("うる")),this._こうどうリストリスト[0].こうどう追加(new Yn("ひみつのみせ",(()=>{ft.メンバー._転職回数<0||ft.場所移動(Ut.一覧("秘密の店"))}),Yn.状態固定.get(Yn.状態.隠しコマンド)))}_はなす(){super._はなす(`いらしゃいませぇ～ここは${this.名前}ニャ`,"冒険に出る前に道具があると便利ニャ","初心者たんには薬草をオススメしてますぅ","守りの石は相手からのだめぇじを軽減することができるらしいニャ",`${ft}たんは顔色が悪そうなのでぇ、毒消し草を食べるといいニャ`,"この草おいしいニャ。モグモグ…。あぅっ！またお店の品を食べてしまったニャ…","天使の鈴は頭が悪い人に使うといいらしぃニャ。あたしのことぢゃないニャ",`${ft}たんの今日の夕食は薬草料理がオススメニャ`,`${ft}たんはべじたりあんですかぁ？`,"魔法使いたんは魔法の聖水を持っていくとよいですよぉ","この世界のどこかに秘密の店というあやしいお店があるらしいですよぉ","今日のオススメ商品はコレニャ！じゃじゃ～ん <b>$ites[$sales[int(rand(@sales))]][1]</b> ニャ！")}_NPCをしらべる(){const t=document.createElement("span");is.文字列追加イベントを登録(t,"＠ひみつのみせ に行きたい"),t.textContent=`${this._NPC.名前}「ほえ？なんでしょうかぁ？」`,super._NPCをしらべる(t)}}class oe extends re{constructor(){super("item.gif",Ut._訪問方法.特殊,new Y("@ﾋﾐﾂｼﾞ","chr/019.gif")),this._こうどうリストリスト[0].こうどう追加(new Yn("ぱふぱふ",(()=>{this.NPCに話させる("未実装だメェ～。",ft.toString())})))}_はなす(){super._はなす("バレちゃったメェ～。他の人には秘密だメェ～。","値段は高いメェ～けれど、他では手に入らないレアものだメェ～。","メェ～メェ～メェ～メェ～メェ～メェ～メェ～メェ～メェ～。","ベェ～ベェ～ベェ～ベェ～ベェ～ベェ～ベェ～ベェ～ベェ～。","＠ぱふぱふはサービスだメェ～。")}_NPCをしらべる(){super._NPCをしらべる(`${this._NPC.名前}「オイラは羊の${this._NPC.名前}だメェ～。羊の国から来たよ…ゴホッゴホッ…羊の国から来たメェ～」`)}}class ce extends Vt{constructor(){super("bar.gif",Ut._訪問方法.いどう,new Y("@ﾙｲｰﾀﾞ","chr/009.gif")),this._こうどうリストリスト.unshift(new Hn(null,new nr))}ヘッダー出力(){const t=document.createDocumentFragment();return t.appendChild(this._ヘッダー用出力()),t.appendChild(document.createTextNode("ゴールド：")),t.appendChild(ft.メンバー._所持金.ヘッダー用出力()),t.appendChild(w("G ＨＰ：",999,"/",ft.メンバー._ステータス.HP," ＭＰ：",999,"/",ft.メンバー._ステータス.MP)),t}_はなす(){super._はなす("いらっしゃい。何か食べてく？",`${ft}さんは$foods[int(rand(@foods))][0]は好きかしら？`,"食材にＭＰを回復させる魔法の聖水やＨＰを回復させる薬草がふくまれているのよ","ＨＰを回復させたいならデザートやご飯物を食べていくといいわ","ＭＰを回復させたいならドリンクを飲んでいくといいわ","食べたり飲んだりした後は、運動しなきゃね","お酒は大人になってからね")}}var ue=new WeakMap,he=new WeakMap;class le extends Vt{constructor(){super("lot.gif",Ut._訪問方法.いどう,new Y("@ﾌｸｽｹ","chr/006.gif")),ue.set(this,{writable:!0,value:void 0}),he.set(this,{writable:!0,value:void 0}),this._こうどうリストリスト.unshift(new Hn(null,new Yn("ふくびき",(()=>{this._ふくびき()})),new Yn("しょうひん",(()=>{this._しょうひん()})))),r(this,ue,new me(300,"ｵｰﾌﾞ","ｶﾞﾗ",100,(()=>{}),!0,new Ee("あ","ｺﾞｰﾙﾄﾞ","gold",wa.特別な特賞,3),new Me("ｼﾙﾊﾞｰ","silver",12),new Me("ﾚｯﾄﾞ","red",15),new Me("ﾌﾞﾙｰ","blue",10),new Me("ｸﾞﾘｰﾝ","green",10),new Me("ｲｴﾛｰ","yellow",10),new Me("ﾊﾟｰﾌﾟﾙ","purple",10),new Ee(null,"ﾎﾜｲﾄ","white",wa.特別なハズレ))),r(this,he,new me(3,"ｽﾗｲﾑ","ﾌﾟﾆｮ",1e3,(()=>Or.曜日に対応する要素を返す("賢者の悟り","ﾄﾞﾗｺﾞﾝの心","闇のﾛｻﾞﾘｵ","魔銃","ｷﾞｻﾞｰﾙの野菜","ｸﾎﾟの実","ｷﾞｬﾝﾌﾞﾙﾊｰﾄ")),!1,new Ee(null,"金","#FC3",wa.特賞,1,"特賞"),new Ee("精霊の守り","赤","#F33",wa.超激レア,3,"１等"),new Ee("ｽﾗｲﾑの心","紫","#C6F",wa.超激レア,4,"２等"),new Ee("小さなﾒﾀﾞﾙ","黄","#FF0",wa.激レア,6,"３等"),new Ie("命の木の実",6),new Ie("不思議な木の実",5),new Ie("力の種",5),new Ie("守りの種",5),new Ie("素早さの種",5),new Ie("ｽｷﾙの種",5),new Ee("祈りの指輪","青","#66F",wa.レア,10,"５等"),new Ee("福袋","緑","#3F3",wa.普通,20,"６等"),new Ee(null,"白","#FFF",wa.ハズレ)))}ヘッダー出力(){const t=document.createDocumentFragment();return t.appendChild(this._ヘッダー用出力()),t.appendChild(document.createTextNode("福引券")),t.appendChild(ft.メンバー._福引券.ヘッダー用出力()),t.appendChild(document.createTextNode("枚")),t.appendChild(document.createTextNode(" E：$ites[$m{ite}][1]| if $m{ite}")),t}_はなす(){super._はなす(`福引券${e(this,he).必要枚数}枚で１回まわすことができるよ`,"福引の賞品は「＠しょうひん」で確認してね","特賞は曜日によって変わるよ","福引券はルイーダの酒場で食事するともらえるよ",`${e(this,ue).必要枚数}枚以上福引券を持っている人は、特別な福引ができるよ`)}_NPCをしらべる(){super._NPCをしらべる([`なんと、${ft}は福引券を見つけた！`,`${this._NPC.名前}「ダメだよ！あげないよ！」`])}_ふくびき(){e(this,ue).回す()||e(this,he).回す(!0)}_しょうひん(){ft.メンバー._福引券.所持>=e(this,ue).必要枚数?(ki.追加("裏福引の賞品リスト"),e(this,ue).陳列棚出力()):(ki.追加("福引の賞品リスト"),e(this,he).陳列棚出力())}}var fe=new WeakMap,de=new WeakMap,pe=new WeakMap,we=new WeakMap,ve=new WeakMap,_e=new WeakMap,ge=new WeakMap;class me{constructor(t,e,n,i,s,a,...o){fe.set(this,{writable:!0,value:void 0}),de.set(this,{writable:!0,value:void 0}),pe.set(this,{writable:!0,value:void 0}),we.set(this,{writable:!0,value:void 0}),ve.set(this,{writable:!0,value:void 0}),_e.set(this,{writable:!0,value:void 0}),ge.set(this,{writable:!0,value:void 0}),r(this,fe,t),r(this,de,e),r(this,pe,n),r(this,we,i),r(this,ve,s),r(this,_e,a),r(this,ge,o)}陳列棚出力(){const t=document.createElement("table");let n,r=!0;for(const i of e(this,ge)){if(i.ハズレ)break;if(r){r=!1,e(this,_e)||t.appendChild(i.陳列棚用出力(e(this,ve).call(this)));continue}const s=Object.getPrototypeOf(i);s!==Ee.prototype&&s===n||(t.appendChild(i.陳列棚用出力()),n=s)}t.classList.add("table1"),ki.追加(t)}出力(t,n){const r=document.createElement("span"),i=document.createElement("span");if(r.style.color=t.玉の色コード,r.textContent=`● 【${t.玉の色名}${e(this,de)}】`,i.appendChild(document.createTextNode(`${e(this,pe)}${e(this,pe)}${e(this,pe)}……ｺﾛｺﾛｺﾛ…...,,,`)),i.appendChild(r),i.appendChild(document.createTextNode(n)),t.ハズレ){const t=Math.trunc(ft.メンバー._福引券.所持/e(this,fe));ki.追加([i,t>0?`あと${t}回まわせるよ`:"また挑戦してね"])}else ft.現在地.NPCに話させる(i.innerHTML)}回す(t=!1){if(!ft.メンバー._福引券.収支(-e(this,fe)))return t&&ki.追加(`福引券を ${e(this,fe)} 枚以上、持っていないようですねぇ…`),!1;let n=Math.random()*e(this,we);for(const t of e(this,ge)){const{次の乱数:e,出力:r}=t.抽選(n);if(void 0!==r){this.出力(t,r);break}n=e}return!0}get 必要枚数(){return e(this,fe)}}var be=new WeakSet,ye=new WeakMap,xe=new WeakMap,$e=new WeakMap,ke=new WeakMap,Ce=new WeakMap,Se=new WeakMap;class Ee{constructor(t,e,n,i,s,a){be.add(this),ye.set(this,{writable:!0,value:void 0}),xe.set(this,{writable:!0,value:void 0}),$e.set(this,{writable:!0,value:void 0}),ke.set(this,{writable:!0,value:void 0}),Ce.set(this,{writable:!0,value:void 0}),Se.set(this,{writable:!0,value:void 0}),r(this,xe,t),r(this,$e,e),r(this,ke,n),r(this,Ce,i),r(this,Se,s),r(this,ye,a)}陳列棚用出力(t){return Ee.陳列棚用出力(e(this,ye),t??e(this,xe),e(this,$e),e(this,ke))}抽選(n){return this.ハズレ?{出力:t(this,be,Pe).call(this)}:e(this,Se)<n?{次の乱数:n-e(this,Se)}:{出力:t(this,be,Pe).call(this)+(ft.メンバー.装備がないなら装備(e(this,xe))?"はい。どうぞ！":`${e(this,xe)}は、${ft}さんの預かり所に送っておきますね`)}}get 玉の色名(){return e(this,$e)}get 玉の色コード(){return e(this,ke)}get ハズレ(){return void 0===e(this,Se)}static 陳列棚用出力(t,e,n,r){const i=document.createElement("span"),s=document.createElement("span");return i.style.color=s.style.color=r,i.textContent=t,s.textContent=`●${n}`,p([i,s,e])}}function Pe(){return e(this,Ce).call(this,e(this,xe),e(this,ye))}class Me extends Ee{constructor(t,e,n){super(`${t}ｵｰﾌﾞ`,t,e,wa.特別なアタリ,n)}陳列棚用出力(){return Ee.陳列棚用出力("１等","オーブ",d,"gold")}}class Ie extends Ee{constructor(t,e){super(t,"桃","#F3F",wa.レア,e,"４等")}陳列棚用出力(){return super.陳列棚用出力("種系")}}class je extends Vt{constructor(){super("farm.gif",Ut._訪問方法.いどう,new Y("@ﾓﾝｼﾞｨ","chr/013.gif")),this._こうどうリストリスト.unshift(new Hn(null,new nr))}}class Ae extends Vt{constructor(){super("photo.gif",Ut._訪問方法.いどう,new Y("@ﾜｺｰﾙ","chr/018.gif")),this._こうどうリストリスト.unshift(new Hn(null,new nr))}}class We extends Vt{constructor(){super("goods.gif",Ut._訪問方法.いどう,new Y("@ﾗｸﾙ","chr/014.gif")),this._こうどうリストリスト.unshift(new Hn(null,new nr))}}class Oe extends Vt{constructor(){super("black_market.gif",Ut._訪問方法.特殊,new Y("@闇商人","chr/025.gif")),this._こうどうリストリスト.unshift(new Hn(null,new nr))}}class Te extends Vt{constructor(){super("medal.gif",Ut._訪問方法.いどう,new Y("@ﾒﾀﾞﾙ王","chr/002.gif")),this._こうどうリストリスト.unshift(new Hn(null,new nr))}}class Ne extends Vt{constructor(){super("job_change.gif",Ut._訪問方法.いどう,new Y("@神官","chr/016.gif")),this._こうどうリストリスト.unshift(new Hn(null,new nr))}}class Le extends Vt{constructor(){super("park.gif",Ut._訪問方法.いどう,new Y("@町娘","chr/001.gif")),this._こうどうリストリスト.unshift(new Hn(null,new Yn("うらない",this.うらない)))}_はなす(){super._はなす(`${ft}さんこんにちわ`,"今日はいい天気ですね～","夕方からはお天気が悪くなるみたいですよ",`今日の夕飯は何を作ろうかしら。${ft}さんはどんな食べ物が好きですか？`,`あら、${ft}さん♪今日も元気そうですね`,"これからどこに行くんですか？",`${ft}さんを占ってあげましょう`,"私の占いって結構当たるらしいですよ","趣味は占いです",`${ft}さんの職業は${ft.メンバー._現職.名前}ですね？どうですか？当たりですか？`)}_NPCをしらべる(){super._はなす(["何かお探しですか？","メガネメガネ…","はい！メガネ！","お探し物はこれですか？-Ｏ-Ｏ-","キャッ！何しているんですか！"])}うらない(){ft.現在地.NPCに話させる(`今日の${ft}さんの運勢はずばり…${c(["大吉","吉","中吉","末吉","小吉","凶","大凶","大吉","吉","中吉","末吉","小吉","凶","大凶","ハッピー","アンハッピー","オッパピー","残念","頑張って","愛があります","開き直ってください","何か起きます"])}です♪ラッキーカラーは${c(["黒","白","青","赤","空","ピンク","紫","緑","灰","ブルー","水","肌","オレンジ","黄","茶","ワインレッド","猫","海","土","森","藍","杏子","イチゴ","オリーブ","金","銀","パール"])}色ですよ～。`)}}class Re extends Vt{constructor(){super("auction.gif",Ut._訪問方法.いどう,new Y("@ﾜｲﾙﾄﾞ","chr/012.gif")),this._こうどうリストリスト.unshift(new Hn(null,new nr))}}var Fe=new WeakSet,De=new WeakSet,Ue=new WeakMap;class ze extends Vt{constructor(){super("event.gif",Ut._訪問方法.いどう),De.add(this),Fe.add(this),Ue.set(this,{writable:!0,value:void 0}),this._こうどうリストリスト.unshift(new Hn(null,new nr))}メイン(e,n){t(this,Fe,Be).call(this,e.size),super.メイン(e,n)}_NPCをしらべる(){super._NPCをしらべる("なんと、薬草を見つけた！…が人の物を盗ってはいけない…")}_はなす(){t(this,De,qe).call(this)?super._はなす("おや、たくさんの人が集まって何かあるんですか？","バザーでもやるんですかねぇ","たくさん人がいて、にぎやかですね","では、商売でもさせてもらいましょうか"):super._はなす()}}function Be(n){r(this,Ue,n),t(this,De,qe).call(this)?(this._NPC=new Y("@旅の商人","chr/024.gif"),this._背景画像=`event${e(this,Ue)<20?1:e(this,Ue)<30?2:3}.gif`):this._NPC=void 0}function qe(){return e(this,Ue)>=10}var Ge=new WeakSet;class He extends Vt{constructor(){super("sp_change.gif",Ut._訪問方法.いどう,new Y("@女神","chr/011.gif")),Ge.add(this),this._こうどうリストリスト.unshift(new Hn(null,new Yn("ＨＰ",(e=>{t(this,Ge,Ve).call(this,e,new bt(2))})),new Yn("ＭＰ",(e=>{t(this,Ge,Ve).call(this,e,new bt(0,2))})),new Yn("攻撃力",(e=>{t(this,Ge,Ve).call(this,e,new bt(0,0,1))})),new Yn("守備力",(e=>{t(this,Ge,Ve).call(this,e,new bt(0,0,0,1))})),new Yn("素早さ",(e=>{t(this,Ge,Ve).call(this,e,new bt(0,0,0,0,1))}))))}ヘッダー出力(){const t=document.createDocumentFragment();return t.appendChild(super._ヘッダー用出力()),t.appendChild(document.createTextNode("$jobs[$m{job}][1] $e2j{sp}<b>$m{sp}</b>|;\n      for my $k (qw/lv mhp mmp at df ag/) {\n        print qq| $e2j{$k}<b>$m{$k}</b>|;\n      }\n      ")),t}_はなす(){super._はなす("スキルポイントはレベルが上がるごとに１ポイント増えていくのです","スキルポイントを早く上げるコツは、何度も同じ職業に転職することです","$mのスキルポイントは現在 $m{sp} ポイントです","スキル習得を目指している場合は、ささげずにとっておくのですよ","スキルポイントをささげるのです","スキルポイントのお礼に、$mのステータスを上げてあげましょう","一度ささげたスキルポイントを戻すことはできません","スキルポイントは、その職業のスキルを習得するのに必要です")}static _クリック時効果(){ki.追加("SPをいくつささげますか？例＞『＠ＨＰ>1』SPを１ささげＨＰを上げる")}}function Ve(t,e){const n=parseInt(t);o(Ke,He,Ye).test(t)||n<1?this._クリック時効果():ft._現職.SP増減(-n)?(ft._ステータス.成長(e),this.NPCに話させる(`SP ${n} のかわりに $e2j{$k} を $v あたえましょう`)):ki.追加("ささげるSPが足りません")}var Ye={writable:!0,value:new RegExp(/[^0-9]/)};class Ke extends Vt{constructor(){super("reborn.gif",Ut._訪問方法.いどう,new Y("@巫女","chr/050.gif")),this._こうどうリストリスト.unshift(new Hn(null,new nr))}}class Je extends Vt{constructor(){super("join_guild.gif",Ut._訪問方法.いどう,new Y("@支配人","chr/007.gif")),this._こうどうリストリスト.unshift(new Hn(null,new nr))}_はなす(){super._はなす("$auto_delete_guild_day 日以上「＠ぎるど」による出入りがない場合は、自動的に削除となります","ギルドとは、気が合うメンバーの集まりです","ギルド名は、途中で変えることができませんので、じっくり考えてください","ギルマスとは、ギルドマスターの略称です。そのギルド内で一番の権限があります","ギルマスは、メンバーに役職名をあたえることができるのです","ギルドマークや壁紙は、お金がかかりますが何度でも変えることが可能です","ギルド参加者は、ギルド戦ができるようになります",`ギルドを新しく作るには、${o(Je,Je,Xe)} G必要です`,`ギルドマークを変更するには、${o(Je,Je,Ze)} G必要です`,"ギルド戦で優勝すると勝利メダルがギルド内に飾られていきます")}}var Xe={writable:!0,value:3e3},Ze={writable:!0,value:3e3},Qe=new WeakSet,tn=new WeakSet;class en extends Vt{constructor(){super("name_change.gif",Ut._訪問方法.いどう,new Y("@ﾏﾘﾅﾝ","chr/017.gif")),tn.add(this),Qe.add(this),this._こうどうリストリスト.unshift(new Hn(null,new nr))}}var nn=new WeakSet,rn=new WeakSet;class sn extends Vt{constructor(){super("exile.gif",Ut._訪問方法.いどう,new Y("@追放騎士","chr/015.gif")),rn.add(this),nn.add(this),this._こうどうリストリスト.unshift(new Hn(null,new nr))}ヘッダー出力(){return super.ヘッダー出力("荒らし追放騎士団")}_はなす(){super._はなす("ここは荒らし追放騎士団！荒らしや不正プレイヤーを取り締まっている！","荒らしや不正プレイヤーなどを追放して、楽しい環境を作ろう！","荒らしを見かけたらここで追放投票をしてくれ！荒らしのいない楽しい環境はお前達がつくっていくのだ。","荒らしの発言に対して反応してはいけない。相手の反応を楽しむのが荒らしなのだ。無視が一番効果的だ。","荒らしの不快な言葉に不快な言葉で返してしまうのは、荒らしと一緒に荒らしているのと同じことだ。","感情的になっているときは、クールになれ！冷静な時こそ正しい判断をすることができるはずだ。","なんとなくムカつくなどの感情的な判断で誤った追放申請をした場合、申請者が逆に罰を受けることになるぞ。",`判決に必要な票数は${va}票必要だ！`,"投票できるのは、転職回数が１回以上のプレイヤーのみだ！")}_ついほう(e){const[n,r]=e.split("＠りゆう&gt;");t(this,nn,an).call(this,n)||(v.追放申請読み込み(),this.NPCに話させる(`<span class="damage">${n}を追放者リストに追加しておいたぞ。判決がくだるのを待て！</span>`),Ts.書き込み(`<span class="damage">${ft}が${n}を${r}の理由で追放申請しました</span>`))}}function an(t,e){try{if(t===d||e===d)throw"『＠ついほう>○○○＠りゆう>△△△』○○○には荒らしの名前、△△△にはなぜ追放したいのかの理由を書いてくれ";if(ft.メンバー._転職回数<1)throw"未転職の方は、申請することはできません";if(t===ft.toString())throw"自分自身を申請することはできません"}catch(t){return ki.追加(t),!0}return!1}new WeakSet,new WeakSet,new WeakSet;var on=new WeakSet;class cn extends Vt{constructor(){super("helper.gif",Ut._訪問方法.いどう,new Y("@ﾘｯｶ","chr/036.gif")),on.add(this),this._こうどうリストリスト.unshift(new Hn(null,new Yn("みる",this._みる.bind(this)),new Yn("かいけつ",this._かいけつ.bind(this))))}ヘッダー出力(){return super.ヘッダー出力("手助けクエスト")}_はなす(){super._はなす("ここは困っている人達を助ける何でも屋よ","アイテムやモンスターを依頼主の代わりに探してきてほしいの","報酬は錬金に必要となる素材など、他では手に入らないアイテムよ","たまにレアクエストといって、条件を満たすのが難しい依頼がくるの。でも、その時の報酬は他では手に入れることができないものよ","誰も解決することができない依頼はしばらくすると違う依頼に変わるわ")}_みる(){ki.追加("手助けクエスト一覧"),v.何でも屋の依頼を読み込む(t(this,on,un).bind(this))}_かいけつ(t){ki.追加("手助けクエスト一覧");const e=new fn(t);v.何でも屋の依頼を読み込む(e.解決.bind(e))}}function un(t){const e=t.target.result.map(wr.オブジェクトから);ki.追加(wr.陳列棚出力(e,!0))}var hn=new WeakSet,ln=new WeakMap;class fn{constructor(t){hn.add(this),ln.set(this,{writable:!0,value:void 0}),r(this,ln,t)}解決(e){const n=e.target.result.map(wr.オブジェクトから);let r=!1;const i=n.find(t(this,hn,dn),this),s=null==i?void 0:i.解決();if(void 0===i||void 0!==s){for(const t of n){if(t===i){void 0!==s&&(this.NPCに話させる(s),r=!0);continue}const e=t.期限切れなら更新();void 0!==e&&(this.NPCに話させる(e),r=!0)}r||ki.追加(wr.陳列棚出力(n,!1))}}}function dn(t){return t===e(this,ln)}var pn=new WeakSet;class wn extends Vt{constructor(){super("alchemy.gif",Ut._訪問方法.いどう,new Y("@ﾄﾛﾃﾞ","chr/038.gif")),pn.add(this),this._こうどうリストリスト.unshift(new Hn(null,new nr))}メイン(...e){t(this,pn,vn).call(this),super.メイン(...e)}_はなす(){super._はなす("２つのアイテムを錬金することで新たなアイテムを作ることができるぞい","錬金ﾚｼﾋﾟを使うことで錬金することが可能になるぞい","錬金したアイテムの完成は、お主が寝て起きた次の日には完成しているじゃろう","錬金で作ることでしか手に入らない武器や防具があるそうじゃ・・・","錬金ﾚｼﾋﾟは習得済み以外のものを習得することができるぞい")}_NPCをしらべる(){super._NPCをしらべる(`${this._NPC.名前}「いやん。どこをさわっとるんじゃっ！`)}}function vn(){const t=ft.メンバー.錬金を完成させる();void 0!==t&&(is.内容="＠れんきんでかんせいしたものをうけとる",this.NPCに話させる(`まっておったぞ！${t.素材名1}と${t.素材名2}を錬金した <b>${t.完成品名}</b> が完成したぞい！出来上がったアイテムは預かり所の方に送っておいたぞい！`))}class _n extends Vt{constructor(){super("god.gif",Ut._訪問方法.特殊,new Y("@神","chr/052.gif")),this._こうどうリストリスト.unshift(new Hn(null,new nr))}ヘッダー出力(){return this._ヘッダー用出力(void 0,!1)}_NPCをしらべる(){ki.追加(`${this._NPC.名前}「本当の願いは自分の力で叶えるのだ…」`,"＠ねがう>メイドを雇いたい")}_はなす(){super._はなす(`${ft}よ。よくぞここまできた。${ft}の願いを一つだけ叶えてやろう`)}}var gn=new WeakSet,mn=new WeakSet,bn=new WeakSet,yn=new WeakMap,xn=new WeakMap,$n=new WeakMap,kn=new WeakMap;class Cn extends Vt{constructor(t,e,n,i,s,a){super(e,Ut._訪問方法.まち),bn.add(this),mn.add(this),gn.add(this),yn.set(this,{writable:!0,value:void 0}),xn.set(this,{writable:!0,value:void 0}),$n.set(this,{writable:!0,value:void 0}),kn.set(this,{writable:!0,value:void 0}),this._名前=t,r(this,yn,n),r(this,xn,i),r(this,$n,s),r(this,kn,a),this._こうどうリストリスト.unshift(new Hn(null,new Yn("たてる",this._たてる.bind(this),void 0,this._たてる家の候補を表示.bind(this)),new Yn("ちぇっく",this._ちぇっく.bind(this),void 0,this._ちぇっく説明)))}_たてる(n){var r;if(!e(this,xn).has(n))return void this._たてる家の候補を表示();if(t(this,gn,Sn).call(this))return;const i=Or.取得()+24*e(this,kn)*60*60;this.NPCに話させる(`${ft} の家を建てました！家の所有期間は ${Or.月日時タイムスタンプ文字列(i)} までです`),ft.メンバー._所持金.収支(-e(this,$n)),null==(r=ft.メンバー._ギルド)||r.ポイント獲得(e(this,kn)),v.場所別キャラクター一覧から削除および1人の登録または更新(this.名前,f,new Y(t(this,mn,En).call(this,ft),t(this,bn,Pn).call(this,n),void 0,i))}_たてる家の候補を表示(){ki.追加([`${this._ヘッダー用出力()}家の値段 ${e(this,$n)} G / 最大建設数 ${e(this,yn)} 軒 / 所有日数 ${e(this,kn)} 日`,"どの家を建てますか？",d]);for(const n of e(this,xn)){const e=document.createElement("img");e.src=`resource/icon/${t(this,bn,Pn).call(this,n)}`,ki.追加(e,`＠たてる>${n} `)}}_ちぇっく(t){t+=" の家";const e=this._名前からキャラクター取得(t);e?this.NPCに話させる(`<b>${t}</b>の所有期間は ${Or.月日時タイムスタンプ文字列(e.最終更新日時)} までです`):this._ちぇっく説明()}_ちぇっく説明(){ki.追加("＠ちぇっく>○○○ の家で、その家の所有期間を調べることができます","＠ちぇっく")}}function Sn(){try{if(ft.メンバー._所持金.所持<e(this,$n))throw"家を建てるお金が足りません";let n=0;for(const t of this._キャラクターリスト)if(t.はNPC色()&&++n>=e(this,yn))throw[`${this.名前} には 最大 ${e(this,yn)} 軒までしか建てることができません`,"家がなくなるまでしばらくお待ちください"];if(void 0!==this._名前からキャラクター取得(t(this,mn,En).call(this,ft)))throw`${ft} はすでに家を持っています`}catch(t){return ki.追加(t),!0}return!1}function En(t){return`${t} の家`}function Pn(t){return`house/${t}.gif`}class Mn extends Vt{constructor(){super("../space.gif",Ut._訪問方法.特殊),this._こうどうリストリスト.unshift(new Hn((()=>ft.メンバー.は自分の家にいる()),new Xn,new Yn("てがみをかく"),new Yn("てがみをよむ"),new Yn("からー",this._からー.bind(this),void 0,this._色一覧を表示.bind(this)),new Yn("ことばをおしえる"))),this._こうどうリストリスト.unshift(new Hn((()=>ft.メンバー.は自分の家にいる()),new Yn("ねる"),new Yn("あいてむずかん",(()=>{ft.チャット書き込み停止(),n("アイテム図鑑-プレイヤー名").textContent=ft.メンバー._家のユーザー名,ft.メンバー.は自分の家にいる(),v.アイテム図鑑を読み込む(ft.メンバー._家のユーザーID,Mi.一覧("アイテム図鑑").読み込み)})),new Yn("もんすたーぶっく",(()=>{ft.チャット書き込み停止(),n("モンスターブック-プレイヤー名1").textContent=n("モンスターブック-プレイヤー名2").textContent=ft.メンバー._家のユーザー名,Mi.一覧("モンスターブック").表示(ft.メンバー._家のユーザーID)})),new Yn("じょぶますたー",(()=>{ft.チャット書き込み停止(),n("ジョブマスター-プレイヤー名").textContent=ft.メンバー._家のユーザー名,v.ジョブマスターを読み込む(ft.メンバー._家のユーザーID,Mi.一覧("ジョブマスター").読み込み)})),new Yn("ぷろふぃーる",(()=>{ft.チャット書き込み停止(),Mi.一覧("プロフィール").表示(ft.メンバー._家のユーザーID,ft.メンバー.は自分の家にいる())}))))}ヘッダー出力(){const t=`${ft.メンバー._家のユーザー名}の家`;if(!ft.メンバー.は自分の家にいる())return this._ヘッダー用出力(t,!1);const e=document.createDocumentFragment();return e.appendChild(this._ヘッダー用出力(t)),e.appendChild(w("Lv.",ft.メンバー._レベル," / 経験値",ft.メンバー._経験値,"Exp / 次のLv.",ft.メンバー._レベル*ft.メンバー._レベル*10,"Exp / 転職回数",ft.メンバー._転職回数,"回 / ゴールド",ft.メンバー._所持金.所持,"G / 疲労度",ft.メンバー._疲労,"％")),ft.メンバー._武器&&(ft.メンバー._武器,ft.メンバー._武器),ft.メンバー._防具&&(ft.メンバー._防具,ft.メンバー._防具),ft.メンバー._道具&&(ft.メンバー._道具,ft.メンバー._道具),e}_はなす(){if(this._キャラクターリスト.size<=1)return void ki.追加("しかし、誰もいなかった…");const t=Array.from(this._キャラクターリスト);let e,n,r=c(t);this._名前からキャラクター取得(r).はNPC色()&&(r=t[0]);for(const t of 台詞リスト)Math.random()>1/++n||(e=t);new Y(r).チャット(e)}_からー(t){const e=ft.メンバー.色を変更(t);void 0!==t?ft.チャット書き込み予約(`カラーを<span style="color: ${e}">${e}</span>に変更しました`):this._色一覧を表示()}_色一覧を表示(){ki.追加(["#から始まる(16進数の)カラーコードを記入してください","サンプル＞"]);for(const[t,e]of Pa){const n=document.createElement("span");n.style.color=t,n.textContent=e,ki.追加(n,`＠からー>${t} `),ki.追加(" ")}}}var In=new WeakSet,jn=new WeakSet,An=new WeakSet,Wn=new WeakMap,On=new WeakMap,Tn=new WeakMap,Nn=new WeakMap;class Ln{constructor(e){An.add(this),jn.add(this),In.add(this),Wn.set(this,{writable:!0,value:void 0}),On.set(this,{writable:!0,value:new Set}),Tn.set(this,{writable:!0,value:void 0}),Nn.set(this,{writable:!0,value:0}),r(this,Wn,e),v.場所別ログを読み込む(ft.メンバー.ログ名,t(this,In,Rn).bind(this)),v.場所別キャラクターを読み込む(ft.メンバー.ログ名,t(this,jn,Fn).bind(this))}}function Rn(e){r(this,Tn,new Set(e.target.result.map(Bn.オブジェクトから))),t(this,An,Dn).call(this)}function Fn(n){const r=n.target.result;null!=r&&r.value?(e(this,On).add(Y.オブジェクトから(r.value,r.key)),r.continue()):t(this,An,Dn).call(this)}function Dn(){r(this,Nn,e(this,Nn)+1),2===e(this,Nn)&&e(this,Wn).メイン(e(this,On),e(this,Tn))}var Un=new WeakMap;class zn{constructor(){Un.set(this,{writable:!0,value:void 0})}更新(t){r(this,Un,t)}出力(){const t=document.createDocumentFragment();for(const n of e(this,Un))t.appendChild(n.出力());return t}}class Bn{constructor(t,e,n,r,i){s(this,"_発言者",void 0),s(this,"_発言者の色",void 0),s(this,"_内容",void 0),s(this,"_日時",void 0),s(this,"_宛て先",void 0),this._発言者=t,this._発言者の色=e,this._内容=Array.isArray(n)?n:[n],this._日時=r,this._宛て先=i}内容追加(t,e){this._内容.push(t),e&&(this._宛て先=e)}出力(){return Bn.出力(this)}static 出力(t){const e=document.createElement("div"),n=document.createElement("span"),r=document.createElement("hr");return n.classList.add("チャット"),n.innerHTML=t._宛て先?`<span class="ささやき">${t._発言者}： ${t._内容.join(d)} <span class="チャット日時">(${Or.タイムスタンプ文字列(t._日時)})</span></span>`:`<span style="color: ${t._発言者の色}">${t._発言者}</span>： ${t._内容.join(d)} <span class="チャット日時">(${Or.タイムスタンプ文字列(t._日時)})</span>`,r.classList.add("チャット区切り線"),e.appendChild(n),e.appendChild(r),e}static オブジェクトから({_発言者:t,_発言者の色:e,_内容:n,_日時:r,_宛て先:i}){return new Bn(t,e,n,r,i)}}var qn=new WeakMap,Gn=new WeakMap;class Hn{constructor(t,...e){qn.set(this,{writable:!0,value:void 0}),Gn.set(this,{writable:!0,value:void 0}),r(this,qn,t),r(this,Gn,e)}出力(){var t;const n=document.createElement("div");if((null==(t=e(this,qn))?void 0:t.call(this))??0)return n;for(const t of e(this,Gn))t.出力する()&&n.appendChild(t.出力());return n}名前が一致したこうどうを実行(t,n){for(const r of e(this,Gn))if(r.名前===t&&r.動作する())return r.実行(n),!0;return!1}こうどう追加(t){e(this,Gn).push(t)}}var Vn=new WeakMap;class Yn extends class{constructor(t){Vn.set(this,{writable:!0,value:void 0}),r(this,Vn,t??this.constructor.name)}get 名前(){return e(this,Vn)}_効果(){}_クリック時効果(){}_状態取得関数(){return Yn.状態.有効}}{constructor(t,e,n,r){super(t),e&&(this._効果=e),n&&(this._状態取得関数=n),r&&(this._クリック時効果=r)}実行(t){this._状態取得関数()!==Yn.状態.無効&&(this._効果(t),ft.予約チャットを書き込む())}出力(){const t=document.createElement("span");return t.classList.add("こうどう"),t.textContent=`＠${this.名前}`,is.文字列追加イベントを登録(t,`＠${this.名前} `),t}出力する(){return this._状態取得関数()===Yn.状態.有効}動作する(){return this._状態取得関数()!==Yn.状態.無効}}s(Yn,"状態",Object.freeze({無効:Symbol("無効"),隠しコマンド:Symbol("隠しコマンド"),有効:Symbol("有効")})),s(Yn,"状態固定",Object.freeze(new Map([[Yn.状態.無効,()=>Yn.状態.無効],[Yn.状態.隠しコマンド,()=>Yn.状態.隠しコマンド],[Yn.状態.有効,()=>Yn.状態.有効]])));class Kn extends Yn{constructor(){super()}_効果(t){this._移動(t)}_移動(t,e=Ut._訪問方法.いどう){if(!new Set(Ut.全場所名(e)).has(t))return void this._クリック時効果();const n=Ut.一覧(t);ft.現在地!==n?(ft.チャット書き込み停止(),ft.場所移動(n)):ki.追加(`ここが${n.名前}です`)}_クリック時効果(t="いどう",e=Ut._訪問方法.いどう,n="どこに移動しますか？"){const r=document.createDocumentFragment();let i=0;r.appendChild(document.createTextNode(n)),r.appendChild(document.createElement("br"));for(const n of Ut.全場所名(e)){const e=document.createElement("span");e.textContent=`${n} `,is.文字列追加イベントを登録(e,`＠${t}>${n} `),r.appendChild(e),r.appendChild(document.createTextNode("/ ")),++i%Ea==0&&r.appendChild(document.createElement("br"))}ki.追加(r)}}class Jn extends Kn{constructor(){super()}_移動(t){super._移動(t,Ut._訪問方法.まち)}_クリック時効果(){super._クリック時効果("まち",Ut._訪問方法.まち,"どの町に行きますか？")}}class Xn extends Yn{constructor(){super("つかう")}async _効果(t){void 0!==t&&void 0!==Er.一覧(t)?await ft.メンバー.アイテムを使う(t):this._クリック時効果()}_クリック時効果(){ft.メンバー._武器&&(ki.追加(ft.メンバー._武器,`＠つかう>${ft.メンバー._武器} `),ki.追加(" / ")),ft.メンバー._防具&&(ki.追加(ft.メンバー._防具,`＠つかう>${ft.メンバー._防具} `),ki.追加(" / ")),ft.メンバー._道具&&(ki.追加(ft.メンバー._道具,`＠つかう>${ft.メンバー._道具} `),ki.追加(" / ")),ki.追加(document.createElement("br"));for(const t of アイテム名リスト)ki.追加(t,`＠つかう>${t} `),ki.追加(" / ")}}var Zn=new WeakSet;class Qn extends Yn{constructor(){super("つくる"),Zn.add(this)}_効果(){t(this,Zn,tr).call(this)}_クリック時効果(){ki.追加("クエストつくりたい")}}function tr(){this._クリック時効果()}var er=new WeakSet;class nr extends Yn{constructor(){super(),er.add(this)}_効果(e){const n=o(nr,nr,ir).get(e===ft.メンバー.好物?"ﾌﾙｺｰｽ":e);void 0!==e&&void 0!==n?n.注文()?ft.現在地.NPCに話させる(n.出力(e===ft.メンバー.好物?ft.メンバー.好物:void 0)):ki.追加("お金が足りないみたいね"):t(this,er,rr).call(this)}_クリック時効果(){ki.追加("注文は何にするのかしら？"),ki.追加(lr.陳列棚出力(o(nr,nr,ir).values()))}static 初期化(){[new lr("ｱﾓｰﾙの水",10,40,0,1),new lr("ｵﾚﾝｼﾞｼﾞｭｰｽ",50,0,30,1),new lr("ﾄﾏﾄｼﾞｭｰｽ",100,10,80,2),new lr("ｺｰﾋｰ",200,0,250,3),new lr("ﾊｰﾌﾞﾃｨｰ",500,0,500,5),new lr("ｱｲｽｸﾘｰﾑ",100,30,30,2),new lr("ﾌﾟﾘﾝ",200,60,0,3),new lr("ﾊﾟﾌｪ",300,100,100,4),new lr("ｶﾚｰﾗｲｽ",400,250,0,5),new lr("ｽﾊﾟｹﾞﾃｨ",600,300,50,6),new lr("ｵﾑﾗｲｽ",750,500,100,7),new lr("ﾊﾝﾊﾞｰｸﾞ",900,800,0,8),new lr("ｽﾃｰｷ",1e3,999,0,10),new lr("ﾌﾙｺｰｽ",3e3,999,999,15)].forEach((t=>{o(nr,nr,ir).set(t.名前,t)}))}}function rr(){this._クリック時効果()}var ir={writable:!0,value:new Map},sr=new WeakMap;class ar{constructor(t){sr.set(this,{writable:!0,value:void 0}),r(this,sr,t)}get 名前(){return e(this,sr)}_陳列用出力(t,e){return p(t,e,!1)}static 陳列棚出力(t=this.一覧,e){const n=document.createElement("table"),r=document.createElement("tbody");n.classList.add("table1");let i=!0;for(const s of t){if(i&&(i=!1,void 0!==this._陳列用ヘッダー項目名リスト)){const t=document.createElement("thead");t.appendChild(p(this._陳列用ヘッダー項目名リスト,void 0,!0)),n.appendChild(t)}r.appendChild(s._陳列用出力(e))}return n.appendChild(r),n}}s(ar,"_陳列用ヘッダー項目名リスト",["名前"]);var or=new WeakMap,cr=new WeakMap,ur=new WeakMap,hr=new WeakMap;class lr extends ar{constructor(t,e,n,i,s){super(t),or.set(this,{writable:!0,value:void 0}),cr.set(this,{writable:!0,value:void 0}),ur.set(this,{writable:!0,value:void 0}),hr.set(this,{writable:!0,value:void 0}),r(this,or,e),r(this,cr,n),r(this,ur,i),r(this,hr,s)}出力(t){return`おまたせ、${t??this.名前}よ♪${e(this,cr)?`${ft}のＨＰが回復した！`:d}${e(this,ur)?`${ft}のＭＰが回復した！`:d}福引券を${e(this,hr)}枚もらった！`}注文(){var t;return!!ft.メンバー._所持金.収支(-e(this,or))&&(ft.メンバー.現在ステータス&&(ft.メンバー.現在ステータス.HP+=e(this,cr),ft.メンバー.現在ステータス.MP+=e(this,ur)),ft.メンバー._福引券.収支(e(this,hr)),null==(t=ft.メンバー.ギルド)||t.ポイント増加(2),!0)}_陳列用出力(){return super._陳列用出力([this.名前,`${e(this,or)} G`],`＠ちゅうもん>${this.名前} `)}}s(lr,"_陳列用ヘッダー項目名リスト",["名前","値段"]);var fr=new WeakSet,dr=new WeakSet,pr=new WeakMap;class wr extends ar{constructor(t,e,n,r,i,s,a,o){super(),dr.add(this),fr.add(this),pr.set(this,{writable:!0,value:void 0}),this._ID=t,this._名前=e,this._期限=n,this._納品名=r,this._納品数=i,this._報酬名=s,this._魔物依頼=a,this._ギルド依頼=o}_陳列用出力(e=!0){const n=document.createDocumentFragment();if(n.appendChild(document.createTextNode("【")),e&&this._ギルド依頼){const t=document.createElement("img");t.src="resource/icon/etc/mark_guild.gif",t.alt="ギルド専用",n.appendChild(t)}return n.appendChild(t(this,dr,_r).call(this)),n.appendChild(document.createTextNode("】")),super._陳列用出力([`『${this._名前}』`,n,`★${this._報酬名}`,`〆${Or.タイムスタンプ文字列(this._期限)}まで`],e?void 0:`＠かいけつ>${this._名前} `)}期限切れなら更新(){if(!(this._期限>=Or.取得()))return wr.新規登録(this._ID),`『${this._名前}』は誰も解決できそうにないので、新しい依頼がきました！`}解決(){if(!t(this,fr,vr).call(this))return ft.依頼を完了する(this._報酬名,100),wr.新規登録(this._ID),`${t(this,dr,_r).call(this)} たしかに受け取りました。こちらが報酬の ${this._報酬名} になります！${ft}さんの預り所に送っておきますね！`}static 新規登録(t){依頼=o(wr,wr,gr).get(Math.random()<ma?"レア":"通常").新規依頼作成(t),v.何でも屋の依頼を登録(wr.新規登録(t))}static オブジェクトから({_ID:t,_名前:e,_期限:n,_納品名:r,_納品数:i,_報酬名:s,_魔物依頼:a,_ギルド依頼:o}){return new wr(t,e,n,r,i,s,a,o)}static ダミーデータ取得(t){if(t>8){const e=o(wr,wr,gr).get(Math.random()<ma?"レア":"通常").新規依頼作成(t);return e._期限=i(1160104560,1259940495),e}return new wr(t,["強くなりたくてその752","あこがれの服その650","用途は秘密ですその521","用途は秘密ですその888","病気を治すためにその685","着てみたいその105","あこがれの服その615","流行なのでその114","非常用にその240"][t],[1260078628,1259940495,1260104448,1260104673,1260104673,1260104686,1260094414,1260104560,1260104448][t],["鉄の斧","忍びの服","ﾓﾝｽﾀｰ金貨","ﾓﾝｽﾀｰ銀貨","魔法の聖水","水の羽衣","ｽﾗｲﾑｱｰﾏｰ","魔法の法衣","悪魔のしっぽ"][t],[4,6,5,2,3,4,2,10,5][t],["馬のﾌﾝ","魔除けの聖印","聖者の灰","聖者の灰","金塊","応用錬金ﾚｼﾋﾟ","金塊","馬のﾌﾝ","聖者の灰"][t],!1,1===t||7===t)}static 初期化(){u(wr,wr,gr,new Map([["通常",new yr([[],[],[],[]],[128,128,128,130,131,132,133,134,134])],["レア",new yr([[],[],[],[]],[129,129,129,135,136,137])]]))}get 名前(){return this._名前}}function vr(){try{if(this._ギルド依頼&&!ft.ギルド所属中)throw`${this._名前}はギルド専用のクエストよ。ギルドに加入していないと依頼を受けることができないわ`;if(this._魔物依頼?hi.画像から削除(this._納品名,this._納品数):ui.削除(this._納品名,this._納品数))throw`${t(this,dr,_r).call(this)} の条件を満たしてないようです`}catch(t){return ki.追加(t),!0}return!1}function _r(){if(!this._魔物依頼)return Er.名前と個数出力(this._納品数,"あ",this._納品名);const t=document.createElement("img");return t.src=`resource/mon/${this._納品名}.gif`,Er.名前と個数出力(this._納品数,"匹",t)}s(wr,"_陳列用ヘッダー項目名リスト",["依頼名","クリア条件","報酬","期限"]);var gr={writable:!0,value:void 0},mr=new WeakMap,br=new WeakMap;class yr{constructor(t,e){mr.set(this,{writable:!0,value:void 0}),br.set(this,{writable:!0,value:void 0}),r(this,mr,t),r(this,br,e)}新規依頼作成(t){const n=i(4),r=3===n,s=Math.random()<ka,a=c(e(this,mr)[n]);return new wr(t,yr.ランダムな依頼名取得(n),Or.取得()+86400*ga,a,(r?i($a+1,xa):i(ya+1,ba))*(s?Ca:1),s?Sa:c(e(this,br)[n]),r,s)}static ランダムな依頼名取得(t){return c([["店を始めたいので","強くなりたくて","戦い用に","ライバルに勝ちたくて","見てみたい","趣味で","家宝にしたい","探しています"],["コンプリートのために","カッコ良くなりたい","オシャレになりたくて","あこがれの服","プレゼント用に","着てみたい","集めたい","流行なので"],["コレクション用","病気を治すために","非常用に","必要なんです","大好物なので","気になるので","自分用に欲しい","用途は秘密です"],["かわいいので","ペットほしい","仲良くなりたい","プニプニしたい","いやされたい","触ってみたい","背中に乗ってみたい","幸せになるために","王国を作るために"]][t])+"その"+i(1e3,1)}}var xr=new WeakMap;class $r extends ar{constructor(t,n,i){super(),xr.set(this,{writable:!0,value:void 0}),this._素材1=t,this._素材2=n,this._完成品=i,r(this,xr,o($r,$r,Sr).findIndex((e=>e.has(t)))),-1===e(this,xr)&&r(this,xr,1/0)}_陳列用出力(t=!0){return super._陳列用出力([this._素材1,`×${this._素材2}`,`＝${t?this._完成品:"？？？"}`],`＠れんきん>${this.素材1}＠そざい>${this.素材2} `)}static 習得(t,n=1/0){const r=c(c(Array.from(o($r,$r,Cr),(([r,i])=>Array.from(i,(([i,s])=>{var a;return null!=(a=t.get(r))&&a.get(i)||e(s,xr)>n?void 0:s}),$r).filter((t=>void 0!==t)))).filter((t=>0!==t.length))));ft.メンバー.データベースに錬金レシピを保存(r)}static 初期化(){[new $r("薬草","薬草","上薬草"),new $r("薬草","爆弾石","ﾄﾞﾗｺﾞﾝ草"),new $r("上薬草","上薬草","特薬草"),new $r("特薬草","命の木の実","世界樹の葉"),new $r("毒消し草","満月草","ﾊﾟﾃﾞｷｱの根っこ"),new $r("世界樹の葉","魔法の聖水","世界樹のしずく"),new $r("魔法の聖水","世界樹のしずく","ｴﾙﾌの飲み薬"),new $r("幸せの種","聖者の灰","ｽｷﾙの種"),new $r("幸せの帽子","幸せの種","幸せのくつ"),new $r("幸せの帽子","幸せのくつ","幸福袋"),new $r("幸せのくつ","幸せの種","幸せの帽子"),new $r("ｽｷﾙの種","魔法の粉","幸せの種"),new $r("ｷﾒﾗの翼","幸せのくつ","宝物庫の鍵"),new $r("身代わり人形","守りの石","身代わり石像"),new $r("身代わり石像","守りのﾙﾋﾞｰ","上薬草"),new $r("魔法の粉","馬のﾌﾝ","悪魔の粉"),new $r("金の鶏","魔物のｴｻ","金塊"),new $r("魔獣の皮","幸せの種","福袋"),new $r("竜のｳﾛｺ","皮の腰巻","魔獣の皮"),new $r("銀のたてごと","魔法の聖水","魔除けの聖印"),new $r("ﾓﾝｽﾀｰ銅貨","ﾓﾝｽﾀｰ銅貨","ﾓﾝｽﾀｰ銀貨"),new $r("ﾓﾝｽﾀｰ銀貨","ﾓﾝｽﾀｰ銀貨","ﾓﾝｽﾀｰ金貨"),new $r("ﾓﾝｽﾀｰ金貨","ﾓﾝｽﾀｰ金貨","小さなﾒﾀﾞﾙ"),new $r("祈りの指輪","金塊","金の指輪"),new $r("金の指輪","命の木の実","命の指輪"),new $r("金の指輪","不思議な木の実","祈りの指輪"),new $r("金の指輪","力の種","上薬草"),new $r("金の指輪","守りの種","守りのﾙﾋﾞｰ"),new $r("金の指輪","素早さの種","はやてのﾘﾝｸﾞ"),new $r("金の指輪","金の指輪","金のﾌﾞﾚｽﾚｯﾄ"),new $r("金の指輪","死者の骨","ﾄﾞｸﾛの指輪"),new $r("闇のﾛｻﾞﾘｵ","聖者の灰","金のﾛｻﾞﾘｵ"),new $r("金のﾌﾞﾚｽﾚｯﾄ","命の指輪","命のﾌﾞﾚｽﾚｯﾄ"),new $r("力の指輪","力の指輪","ごうけつの腕輪"),new $r("はやてのﾘﾝｸﾞ","はやてのﾘﾝｸﾞ","ほしふる腕輪"),new $r("ごうけつの腕輪","ほしふる腕輪","ｱﾙｺﾞﾝﾘﾝｸﾞ"),new $r("ごうけつの腕輪","爆弾石","ﾒｶﾞﾝﾃの腕輪"),new $r("ごうけつの腕輪","金塊","怒りのﾀﾄｩｰ"),new $r("ｿｰｻﾘｰﾘﾝｸﾞ","悪魔のしっぽ","ﾄﾞｸﾛの指輪"),new $r("ﾄﾞｸﾛの指輪","聖者の灰","ｿｰｻﾘｰﾘﾝｸﾞ"),new $r("ひのきの棒","ﾀﾞｶﾞｰﾅｲﾌ","鉄の槍"),new $r("ひのきの棒","鉄の槍","ﾛﾝｸﾞｽﾋﾟｱ"),new $r("こんぼう","ﾁｪｰﾝｸﾛｽ","ﾓｰﾆﾝｸﾞｽﾀｰ"),new $r("ﾌﾞﾛﾝｽﾞﾅｲﾌ","ﾌﾞﾛﾝｽﾞﾅｲﾌ","銅の剣"),new $r("ﾌﾞﾛﾝｽﾞﾅｲﾌ","聖者の灰","聖なるﾅｲﾌ"),new $r("ﾀﾞｶﾞｰﾅｲﾌ","どくばり","ｱｻｼﾝﾀﾞｶﾞｰ"),new $r("ｿﾞﾝﾋﾞｷﾗｰ","魔除けの聖印","ｿﾞﾝﾋﾞﾊﾞｽﾀｰ"),new $r("ﾙｰﾝｽﾀｯﾌ","ﾗｲﾄｱｰﾏｰ","ﾗｲﾄｼｬﾑｰﾙ"),new $r("ﾛﾝｸﾞｽﾋﾟｱ","聖なるﾅｲﾌ","ﾎｰﾘｰﾗﾝｽ"),new $r("ﾛﾝｸﾞｽﾋﾟｱ","悪魔のしっぽ","ﾊﾞﾄﾙﾌｫｰｸ"),new $r("ﾊﾞﾄﾙﾌｫｰｸ","どくばり","ﾃﾞｰﾓﾝｽﾋﾟｱ"),new $r("ﾎｰﾘｰﾗﾝｽ","悪魔のしっぽ","ﾃﾞｰﾓﾝｽﾋﾟｱ"),new $r("ﾓｰﾆﾝｸﾞｽﾀｰ","ﾄﾞﾗｺﾞﾝｷﾗｰ","ﾄﾞﾗｺﾞﾝﾃｲﾙ"),new $r("鋼鉄の剣","金塊","ﾌﾟﾗﾁﾅｿｰﾄﾞ"),new $r("鋼鉄の剣","馬のﾌﾝ","古びた剣"),new $r("ｽﾗｲﾑﾋﾟｱｽ","はやてのﾘﾝｸﾞ","ｷﾗｰﾋﾟｱｽ"),new $r("理力の杖","ﾄﾞﾗｺﾞﾝ草","ﾄﾞﾗｺﾞﾝの杖"),new $r("ｸｻﾅｷﾞの剣","聖者の灰","ﾊﾞｽﾀｰﾄﾞｿｰﾄﾞ"),new $r("ﾊﾞｽﾀｰﾄﾞｿｰﾄﾞ","氷の刃","吹雪の剣"),new $r("ﾊﾞｽﾀｰﾄﾞｿｰﾄﾞ","妖精の笛","妖精の剣"),new $r("銅の剣","魔除けの聖印","聖銀のﾚｲﾋﾟｱ"),new $r("銅の剣","馬のﾌﾝ","古びた剣"),new $r("聖銀のﾚｲﾋﾟｱ","悪魔のしっぽ","堕天使のﾚｲﾋﾟｱ"),new $r("堕天使のﾚｲﾋﾟｱ","はやてのﾘﾝｸﾞ","疾風のﾚｲﾋﾟｱ"),new $r("鎖がま","鎖がま","鉄の斧"),new $r("鉄の斧","鉄の斧","ﾊﾞﾄﾙｱｯｸｽ"),new $r("鉄の斧","金塊","金の斧"),new $r("ﾊﾞﾄﾙｱｯｸｽ","盗賊の衣","山賊の斧"),new $r("山賊の斧","王者のﾏﾝﾄ","覇王の斧"),new $r("おおきづち","鉄の斧","おおかなづち"),new $r("ｳｫｰﾊﾝﾏｰ","ごうけつの腕輪","ｳｫｰﾊﾝﾏｰ･改"),new $r("ｳｫｰﾊﾝﾏｰ･改","覇王の斧","ﾒｶﾞﾄﾝﾊﾝﾏｰ"),new $r("隼の剣","ほしふる腕輪","隼の剣･改"),new $r("諸刃の剣","聖者の灰","諸刃の剣･改"),new $r("諸刃の剣","魔除けの聖印","氷の刃"),new $r("奇跡の剣","命のﾌﾞﾚｽﾚｯﾄ","奇跡の剣･改"),new $r("古びた剣","ｵﾘﾊﾙｺﾝ","ﾊｸﾞﾚﾒﾀﾙの剣"),new $r("ﾊｸﾞﾚﾒﾀﾙの剣","ｽﾗｲﾑの冠","ﾒﾀﾙｷﾝｸﾞの剣"),new $r("ﾒﾀﾙｷﾝｸﾞの剣","ﾛﾄの印","ﾛﾄの剣"),new $r("ﾄﾞﾗｺﾞﾝｷﾗｰ","ごうけつの腕輪","ﾄﾞﾗｺﾞﾝｽﾚｲﾔｰ"),new $r("ﾄﾞﾗｺﾞﾝｽﾚｲﾔｰ","ｵﾘﾊﾙｺﾝ","竜神の剣"),new $r("竜神の剣","ﾊｸﾞﾚﾒﾀﾙの剣","竜神王の剣"),new $r("布の服","布の服","旅人の服"),new $r("旅人の服","魔獣の皮","皮の鎧"),new $r("旅人の服","騎士団の衣装","騎士団の服"),new $r("旅人の服","ﾁｪｰﾝｸﾛｽ","鎖かたびら"),new $r("皮の鎧","竜のｳﾛｺ","うろこの鎧"),new $r("鎖かたびら","銅の剣","青銅の鎧"),new $r("鉄の鎧","銀のたてごと","ｼﾙﾊﾞｰﾒｲﾙ"),new $r("鉄の鎧","馬のﾌﾝ","古びた鎧"),new $r("鋼鉄の鎧","諸刃の剣","刃の鎧"),new $r("鋼鉄の鎧","馬のﾌﾝ","古びた鎧"),new $r("鋼鉄の鎧","魔獣の皮","あつでの鎧"),new $r("銀の胸当て","金塊","金の胸当て"),new $r("さまよう鎧","魔除けの聖印","ﾗｲﾄｱｰﾏｰ"),new $r("ｼﾙﾊﾞｰﾒｲﾙ","ｿﾞﾝﾋﾞｷﾗｰ","ｿﾞﾝﾋﾞﾒｲﾙ"),new $r("ｼﾙﾊﾞｰﾒｲﾙ","魔獣の皮","ﾄﾞﾗｺﾞﾝﾒｲﾙ"),new $r("ｿﾞﾝﾋﾞﾒｲﾙ","聖者の灰","ﾌﾟﾗﾁﾅﾒｲﾙ"),new $r("魔法の法衣","聖者の灰","賢者のﾛｰﾌﾞ"),new $r("賢者のﾛｰﾌﾞ","炎の鎧","紅蓮のﾛｰﾌﾞ"),new $r("光の鎧","危ない水着","神秘の鎧"),new $r("毛皮のﾏﾝﾄ","はやてのﾘﾝｸﾞ","盗賊の衣"),new $r("魔人の鎧","ごうけつの腕輪","ｷﾞｶﾞﾝﾄｱｰﾏｰ"),new $r("古びた鎧","ｵﾘﾊﾙｺﾝ","ﾊｸﾞﾚﾒﾀﾙの鎧"),new $r("ﾊｸﾞﾚﾒﾀﾙの鎧","ｽﾗｲﾑの冠","ﾒﾀﾙｷﾝｸﾞの鎧"),new $r("ﾒﾀﾙｷﾝｸﾞの鎧","ﾛﾄの印","ﾛﾄの鎧"),new $r("ﾄﾞﾗｺﾞﾝﾒｲﾙ","ごうけつの腕輪","ﾄﾞﾗｺﾞﾝｱｰﾏｰ"),new $r("ﾄﾞﾗｺﾞﾝｱｰﾏｰ","ｵﾘﾊﾙｺﾝ","竜神の鎧"),new $r("竜神の鎧","ﾊｸﾞﾚﾒﾀﾙの鎧","竜神王の鎧")].forEach(a($r,$r,kr))}一覧(t,e){var n;return null==(n=o(this,$r,Cr).get(t))?void 0:n.get(e)}}function kr(t){const e=!o($r,$r,Cr).has(t._素材1),n=e?new Map:o($r,$r,Cr).get(t._素材1);e&&o($r,$r,Cr).set(t._素材1,n),n.set(t._素材2,t)}s($r,"_陳列用ヘッダー項目名リスト",void 0);var Cr={writable:!0,value:new Map},Sr={writable:!0,value:Object.freeze([new Set(["薬草","上薬草","特薬草","毒消し草","身代わり人形","竜のｳﾛｺ","ﾓﾝｽﾀｰ銅貨","ﾓﾝｽﾀｰ銀貨","闇のﾛｻﾞﾘｵ","魔獣の皮","祈りの指輪","金の指輪","ひのきの棒","こんぼう","ﾌﾞﾛﾝｽﾞﾅｲﾌ","ﾀﾞｶﾞｰﾅｲﾌ","ﾙｰﾝｽﾀｯﾌ","ﾛﾝｸﾞｽﾋﾟｱ","ｸｻﾅｷﾞの剣","銅の剣","聖銀のﾚｲﾋﾟｱ","鎖がま","鉄の斧","金の斧","おおきづち","布の服","旅人の服","皮の鎧","鎖かたびら","鉄の鎧","鋼鉄の鎧","さまよう鎧","ｿﾞﾝﾋﾞﾒｲﾙ","魔法の法衣"]),new Set(["世界樹の葉","魔法の聖水","幸せの種","ｽｷﾙの種","身代わり石像","銀のたてごと","魔法の粉","悪魔の粉","金の鶏","ﾓﾝｽﾀｰ金貨","金のﾌﾞﾚｽﾚｯﾄ","怒りのﾀﾄｩｰ","ｿｰｻﾘｰﾘﾝｸﾞ","ｿﾞﾝﾋﾞｷﾗｰ","ﾊﾞﾄﾙﾌｫｰｸ","ﾎｰﾘｰﾗﾝｽ","ﾓｰﾆﾝｸﾞｽﾀｰ","鋼鉄の剣","ｽﾗｲﾑﾋﾟｱｽ","理力の杖","ﾊﾞｽﾀｰﾄﾞｿｰﾄﾞ","堕天使のﾚｲﾋﾟｱ","ﾊﾞﾄﾙｱｯｸｽ","山賊の斧","銀の胸当て","みかわしの服","ｼﾙﾊﾞｰﾒｲﾙ","賢者のﾛｰﾌﾞ","毛皮のﾏﾝﾄ","魔人の鎧"])])};class Er extends ar{名前と個数出力(t){Er.名前と個数出力(t,this.種類.単位,this.名前)}static 名前と個数出力(t,e,n){const r=document.createDocumentFragment(),i=document.createElement("span");return i.classList.add("強調"),i.textContent=t,void 0===n.nodeType&&(n=document.createTextNode(n)),r.appendChild(n),r.appendChild(document.createTextNode(" ")),r.appendChild(i),r.appendChild(document.createTextNode(` ${e}`)),r}static 図鑑出力(t,e){e.textContent=d;const n=document.createElement("thead"),r=document.createElement("tbody");let i=!0;for(const s of t)i&&(i=!1,n.appendChild(p(this._図鑑用ヘッダー項目名リスト,void 0,!0)),e.appendChild(n)),r.appendChild(s._図鑑用出力());e.appendChild(r)}_図鑑用出力(...t){return super._陳列用出力(t)}static 一覧(t){return o(this,Er,Pr).get(t)??void 0}}var Pr={writable:!0,value:new Map};class Mr extends Er{constructor(t,e,n){this._強さ=t,this._重さ=e,this._価格=n}使う(){ki.追加(this.ステータスを出力())}ステータスを出力(t=this.constructor.name){return`${t}名：${this.名前} / 強さ：<b>${this._強さ}</b> / 重さ：<b>${this._重さ}</b> / 価格：<b>${this._価格}</b>G`}_陳列用出力(){return super._図鑑用出力(this.名前,`${this.価格} G`,this._強さ,this._重さ)}_図鑑用出力(){return super._図鑑用出力(this.名前,this._強さ,this._重さ,`${this.価格} G`)}}s(Mr,"_陳列用ヘッダー項目名リスト",["名前","値段","強さ","重さ"]),s(Mr,"_図鑑用ヘッダー項目名リスト",["名前","強さ","重さ","価格"]);class Ir extends Mr{ステータスへ(){return new bt(0,0,this._強さ,0,-this._重さ)}}class jr extends Mr{ステータスへ(){return new bt(0,0,0,this._強さ,-this._重さ)}}class Ar extends Er{使う(){return ki.追加(`${this.名前}はここでは使えません`),!1}_陳列用出力(t){return super._陳列用出力(this.名前,`${this.価格} G`,t)}_図鑑用出力(){return super._図鑑用出力(this.名前,`${this.価格} G`)}}s(Ar,"_陳列用ヘッダー項目名リスト",["名前","価格"]),s(Ar,"_図鑑用ヘッダー項目名リスト",["名前","価格"]);new WeakMap;new WeakMap;new WeakMap,new WeakMap,new WeakMap;class Wr{constructor(t,e,n,r,i){this._ログインメンバー=new K(t),this._レベル=e,this._メンバーの職業=new kt(n),this._内容=r,this._日時=i}出力(){return`${this._ログインメンバー.出力(!0,!1,!0)}： ${this._レベル} ${this._メンバーの職業.toString()} ${内容} <span class="タイムスタンプ">(${this._日時})</span>`}static オブジェクトから({_ログインメンバー:t,_レベル:e,_メンバーの職業:n,_内容:r,_日時:i}){return new Wr({_ログインメンバー:t,_レベル:e,_メンバーの職業:n,_内容:r,_日時:i})}}new WeakSet;class Or{static 取得(){return o(this,Or,Nr)}static 更新(){const t=Date.now();u(this,Or,Nr,Math.floor(t/1e3)),u(this,Or,Lr,new Date(t))}static 曜日に対応する要素を返す(...t){return t[o(this,Or,Lr).getDay()]??c(t.filter(a(Or,Or,Tr)))}static タイムスタンプ文字列(t){return o(this,Or,Rr).format(1e3*t)}static 月日時タイムスタンプ文字列(t){return o(this,Or,Fr).format(1e3*t).replace(" ",d)}}function Tr(t){return null!==t}var Nr={writable:!0,value:void 0},Lr={writable:!0,value:void 0},Rr={writable:!0,value:new Intl.DateTimeFormat("ja-JP",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})},Fr={writable:!0,value:new Intl.DateTimeFormat("ja-JP",{month:"long",day:"numeric",hour:"2-digit"})},Dr=new WeakMap,Ur=new WeakMap,zr=new WeakMap,Br=new WeakMap,qr=new WeakMap,Gr=new WeakMap,Hr=new WeakMap;class Vr{constructor(){Dr.set(this,{writable:!0,value:void 0}),Ur.set(this,{writable:!0,value:void 0}),zr.set(this,{writable:!0,value:void 0}),Br.set(this,{writable:!0,value:void 0}),qr.set(this,{writable:!0,value:void 0}),Gr.set(this,{writable:!0,value:void 0}),Hr.set(this,{writable:!0,value:void 0})}プレイヤー一覧用出力(){return[e(this,Ur),e(this,Dr),e(this,Br),e(this,qr),e(this,zr)]}static ランキング作成開始(){u(Vr,Vr,Yr,new Map(o(Vr,Vr,Kr).map((t=>[t,new si(ra)]))))}static ランキング判定1(t){for(const e of o(Vr,Vr,Kr))o(Vr,Vr,Yr).get(e).追加(this[o(Vr,Vr,Xr).get(e)],t)}static ランキング作成開始2(){for(const[t,e]of o(Vr,Vr,Jr))o(Vr,Vr,Yr).set(t,new si(ra,o(Vr,Vr,Yr).get(e)))}static ランキング判定2(t){for(const e of o(Vr,Vr,Jr).keys())o(Vr,Vr,Yr).get(e).追加(this[o(Vr,Vr,Xr).get(e)],t)}static ランキング出力(){u(Vr,Vr,Yr,null)}}var Yr={writable:!0,value:void 0},Kr={writable:!0,value:Object.freeze(["プレイヤー撃退数","勇者熟練度","錬金数","手助け数"])},Jr={writable:!0,value:Object.freeze(new Map([["モンスター撃退数","プレイヤー撃退数"],["魔王熟練度","勇者熟練度"]]))},Xr={writable:!0,value:Object.freeze(new Map([...o(Vr,Vr,Kr),...o(Vr,Vr,Jr).keys()].map((t=>[t,"#"+t]))))},Zr=new WeakSet,Qr=new WeakSet,ti=new WeakMap,ei=new WeakMap,ni=new WeakMap,ri=new WeakMap,ii=new WeakMap;class si{constructor(n,i){Qr.add(this),Zr.add(this),ti.set(this,{writable:!0,value:void 0}),ei.set(this,{writable:!0,value:void 0}),ni.set(this,{writable:!0,value:void 0}),ri.set(this,{writable:!0,value:void 0}),ii.set(this,{writable:!0,value:void 0}),r(this,ni,n),r(this,ri,1/0),r(this,ti,[]),r(this,ei,i?t(i,Zr,ai).call(i):null),r(this,ii,0);let s=1;for(;s<n;)r(this,ii,e(this,ii)+1),s<<=1}追加(t,n){var i;if(null==(i=e(this,ei))?void 0:i.has(n))return;const s=e(this,ti).length;if(s<最大順位)e(this,ti)[e(this,ti).length]=Object.freeze({メンバー:n,数値:t});else{if(s===最大順位)return e(this,ti).sort(),void r(this,ri,e(this,ti)[e(this,ti).length-1].数値);if(!(e(this,ri)>t)){if(e(this,ri)!==t)throw new Error("未実装");e(this,ti)[e(this,ti).length]=Object.freeze({メンバー:n,数値:t})}}}結果(){return e(this,ti)}}function ai(){return new Set(e(this,ti).map(t(this,Qr,oi)))}function oi(t){return t.メンバー}class ci{}class ui extends ci{最大(){return Math.max(Zs,5*ft.転職回数+5)}}class hi extends ci{最大(){return Qs}}var li=new WeakSet,fi=new WeakSet,di=new WeakMap,pi=new WeakMap,wi=new WeakMap,vi=new WeakMap,_i=new WeakMap,gi=new WeakMap,mi=new WeakMap;class bi{constructor(){fi.add(this),li.add(this),di.set(this,{writable:!0,value:void 0}),pi.set(this,{writable:!0,value:void 0}),wi.set(this,{writable:!0,value:void 0}),vi.set(this,{writable:!0,value:void 0}),_i.set(this,{writable:!0,value:void 0}),gi.set(this,{writable:!0,value:void 0}),mi.set(this,{writable:!0,value:void 0})}削除(){Ts.書き込み(`< span class="die" > ${e(this,di)} ギルドが解散しました</ > `)}メンバー削除(t){1!==e(this,wi).Count()?(e(this,wi).delete(t),t===e(this,pi)&&ギルマス交代()):this.削除()}ギルマス交代(e=t(this,li,yi).call(this)){}static 必要なら一覧出力(){}toString(){return e(this,di)}static 必要なら一覧更新(){}}function yi(){const n=Array.from(e(this,wi));return n.find(t(this,fi,xi),this)??n[0]}function xi(t){return o(this,bi,$i).test(e(t,di))}var $i={writable:!0,value:new RegExp(/ギルマス/)};class ki{static 追加(t,e){ft.チャット書き込み停止();const n=!!e;let r;if(Array.isArray(t)){r=document.createElement("span");let e=!0;for(const n of t)if(e?e=!1:r.appendChild(document.createElement("br")),n){const t=a(ki,ki,Ci).call(ki,n);r.appendChild(t)}}else r=a(ki,ki,Ci).call(ki,t,n);is.文字列追加イベントを登録(r,e),o(this,ki,Ei).appendChild(r)}}function Ci(t,e){return"string"!=typeof t?t:e?a(ki,ki,Si).call(ki,t):document.createTextNode(t)}function Si(t){const e=document.createElement("span");return e.textContent=t,e}s(ki,"削除",(()=>{o(ki,ki,Ei).textContent=d,is.文字列追加イベントを削除(o(ki,ki,Ei))}).bind(ki));var Ei={writable:!0,value:n("通知欄")},Pi=new WeakMap;class Mi{constructor(t){Pi.set(this,{writable:!0,value:void 0}),r(this,Pi,n(t))}表示(t=!0){o(Mi,Mi,ji)&&(e(o(Mi,Mi,ji),Pi).hidden=!!t),e(this,Pi).hidden=!t,u(Mi,Mi,ji,this)}static 初期化(){u(Mi,Mi,Ii,new Map([["トップ画面",new Fi],["ゲーム画面",new Vi],["アイテム図鑑",new Zi],["ジョブマスター",new Qi],["エラー画面",new Mi("エラー")],["404エラー",new Mi("404")]]))}static 一覧(t){return o(this,Mi,Ii).get(t)??void 0}}var Ii={writable:!0,value:void 0},ji={writable:!0,value:void 0},Ai=new WeakSet,Wi=new WeakSet,Oi=new WeakSet,Ti=new WeakSet,Ni=new WeakSet,Li=new WeakSet,Ri=new WeakSet;class Fi extends Mi{constructor(){super("メイン"),Ri.add(this),Li.add(this),Ni.add(this),Ti.add(this),Oi.add(this),Wi.add(this),Ai.add(this),document.forms.新規登録フォーム.addEventListener("submit",t(this,Ri,Hi))}表示(e){t(this,Ai,Di).call(this),t(this,Wi,Ui).call(this),t(this,Oi,zi).call(this),t(this,Ti,Bi).call(this),t(this,Ni,qi).call(this),t(this,Li,Gi).call(this),super.表示(e)}新規登録完了表示(t,e,r,i,s){for(const[a,o]of new Map([["新規登録完了-名前",t],["新規登録完了-パスワード",e],["新規登録完了-職業",r],["新規登録完了-性別",i],["新規登録完了-ＨＰ",s.HP],["新規登録完了-ＭＰ",s.MP],["新規登録完了-攻撃力",s.攻撃力],["新規登録完了-守備力",s.守備力],["新規登録完了-素早さ",s.素早さ]]))n(a).textContent=o;const a=document.forms.新規ログイン;a.login_name.value=t,a.pass.value=e,n("new_entry.cgi").hidden=!0,n("新規登録完了").hidden=!1}}function Di(){const t=(new Date).getHours(),e=4>t?5:6>t?6:9>t?7:16>t?1:17>t?2:19>t?3:22>t?4:5;1!==e&&(n("トップ-ヘッダー").style.backgroundImage=`url(resource/bg/top/${e}.gif)`)}function Ui(){const t=document.createElement("div"),e=document.createElement("img");for(let n=1;n<=8;n++){const n=Math.floor(73*Math.random())+1,r=13==n||15==n||17==n||19==n||47==n?"m":14==n||16==n||18==n||20==n||48==n?"f":Math.random()<.5?"m":"f";e.src=`resource/icon/job/${n}_${r}.gif`,t.appendChild(e.cloneNode(!1))}const r=n("ランダムアイコン"),i=r.firstChild;i&&r.removeChild(i),r.appendChild(t)}function zi(){n("救出処理の睡眠時間").textContent=Bs(ia)}function Bi(){n("プレイヤー自動削除日数").textContent=Ks,n("新規プレイヤー自動削除日数").textContent=Js}function qi(){n("登録者数").textContent=z.登録者数.取得(),n("最大登録人数").textContent=Ys}function Gi(){for(const t of la){const e=document.createElement("option");e.textContent=t,e.value=t,document.forms.新規登録フォーム.職業.appendChild(e)}}function Hi(t){t.preventDefault();const e=t.currentTarget;et.新規登録(e.名前.value,e.パスワード.value,e.職業.value,e.性別.value)}class Vi extends Mi{constructor(){super("party.cgi")}更新(t){o(Vi,Vi,Yi).textContent=d,o(Vi,Vi,Yi).appendChild(t.ヘッダー出力()),o(Vi,Vi,Ki).textContent=d,o(Vi,Vi,Ki).appendChild(t.メンバー出力()),o(Vi,Vi,Ki).style.backgroundImage=`url(resource/bg/${t.背景画像})`,o(Vi,Vi,Ji).textContent=d,o(Vi,Vi,Ji).appendChild(t.こうどう出力()),o(Vi,Vi,Xi).textContent=d,o(Vi,Vi,Xi).appendChild(t.チャット出力()),hs.リセット(),super.表示(),is.フォーカス()}}var Yi={writable:!0,value:n("ヘッダー")},Ki={writable:!0,value:n("メンバー一覧")},Ji={writable:!0,value:n("こうどう")},Xi=(n("通知欄"),{writable:!0,value:n("チャット欄")});class Zi extends Mi{constructor(){super("アイテム図鑑")}読み込み(t){const e=new Set,r=new Set,i=new Set;for(const n of t.target.result.map(Er.一覧)){const t=Er.一覧(n);t instanceof Ir?e.add(t):t instanceof jr?r.add(t):i.add(t)}Er.図鑑出力(e,n("武器図鑑")),Er.図鑑出力(r,n("防具図鑑")),Er.図鑑出力(i,n("道具図鑑")),Mi.一覧("アイテム図鑑").表示()}}class Qi extends Mi{constructor(){super("ジョブマスター")}読み込み(t){const e=n("ジョブマスター一覧");e.textContent=d,e.appendChild(Ct.図鑑出力(t.target.result)),Mi.一覧("ジョブマスター").表示()}}class ts{static 初期化(){document.forms.新規ログイン.addEventListener("submit",o(ts,ts,rs));const t=document.forms.ログイン;t.addEventListener("submit",o(ts,ts,rs)),Gs.getItem("ログイン情報保存日時")+24*ta*60*60*1e3<Date.now()?a(ts,ts,es).call(ts):Gs.getItem("ログイン情報入力省略")&&(t.login_name.value=Gs.getItem("login_name"),t.pass.value=Gs.getItem("pass"),t.login_message.value=Gs.getItem("login_message"),t.is_cookie.checked=!0)}}function es(){Gs.removeItem("login_name"),Gs.removeItem("pass"),Gs.removeItem("login_message"),Gs.removeItem("ログイン情報入力省略"),Gs.removeItem("ログイン情報保存日時")}function ns(t){if(t===d)return!1;try{if(/[,;\"\'&<>]/.test(t))throw new Error("メッセージに不正な文字( ,;\"'&<> )が含まれています");if(/　|\s/.test(t))throw new Error("メッセージに不正な空白が含まれています");if(ea<l(t))throw new Error(`メッセージが長すぎます(半角${ea}文字まで)`)}catch(t){return t.表示(エラー内容),!0}return!1}var rs={writable:!0,value:(t=>{var e;t.preventDefault();const n=t.currentTarget,r=n.login_name.value,i=n.pass.value,s=(null==(e=n.login_message)?void 0:e.value)??d;a(ts,ts,ns).call(ts,s)||(n.is_cookie.checked?(Gs.setItem("login_name",r),Gs.setItem("pass",i),Gs.setItem("login_message",s),Gs.setItem("ログイン情報入力省略","1"),Gs.setItem("ログイン情報保存日時",Date.now())):a(ts,ts,es).call(ts),ft.ログイン要求(r,i,s))}).bind(ts)};class is{static 初期化(){document.forms.form.addEventListener("submit",a(this,is,ss))}static フォーカス(){o(is,is,us).focus()}static 文字列追加イベントを登録(t,e){e&&(void 0===t.dataset.テキスト?(t.dataset.テキスト=e,t.addEventListener("click",a(this,is,as))):t.dataset.テキスト=e)}static 文字列追加イベントを削除(t){delete t.dataset.テキスト,t.removeEventListener("click",a(this,is,as))}static get 内容(){return o(is,is,cs)}static set 内容(t){u(is,is,cs,t)}static 保存した内容を消去(){u(is,is,cs,d)}}function ss(t){t.preventDefault(),ki.削除();const e=o(is,is,us).value;a(is,is,os).call(is,e)||(u(is,is,cs,e),o(is,is,us).value=d,ft.現在地.更新要求())}function as(t){const e=t.currentTarget.dataset.テキスト;e&&(o(is,is,us).value+=e,is.フォーカス())}function os(t){try{if(ca<l(t))throw new Error(`本文が長すぎます(半角${ca}文字まで)`)}catch(t){return t.表示(t),!0}return!1}var cs={writable:!0,value:d},us={writable:!0,value:document.forms.form.コメント};document.forms.form.自動更新,n("次更新までの秒数");class hs{static リセット(){o(hs,hs,ds)&&clearTimeout(o(hs,hs,ds)),u(this,hs,fs,Vs),o(this,hs,ps).style.width="0%",o(this,hs,ps).classList.remove("行動ゲージ-完了"),u(hs,hs,ds,setTimeout(a(this,hs,ls),1e3))}}function ls(){if(o(hs,hs,fs)<=1)return o(hs,hs,ps).style.width="100%",void o(hs,hs,ps).classList.add("行動ゲージ-完了");u(hs,hs,fs,o(hs,hs,fs)-1);const t=(Vs-o(hs,hs,fs))/Vs*100;o(hs,hs,ps).style.width=t+"%",u(hs,hs,ds,setTimeout(a(hs,hs,ls),1e3))}var fs={writable:!0,value:void 0},ds={writable:!0,value:void 0},ps={writable:!0,value:n("行動ゲージ")},ws=new WeakSet,vs=new WeakSet,_s=new WeakSet,gs=new WeakMap,ms=new WeakMap,bs=new WeakMap,ys=new WeakMap,xs=new WeakMap,$s=new WeakMap,ks=new WeakMap,Cs=new WeakMap;class Ss{get デフォルトページ名(){return e(this,bs)}get 遷移後リンク無効化(){return e(this,$s)}constructor(t){if(_s.add(this),vs.add(this),ws.add(this),gs.set(this,{writable:!0,value:void 0}),ms.set(this,{writable:!0,value:void 0}),bs.set(this,{writable:!0,value:void 0}),ys.set(this,{writable:!0,value:void 0}),xs.set(this,{writable:!0,value:void 0}),$s.set(this,{writable:!0,value:void 0}),ks.set(this,{writable:!0,value:void 0}),Cs.set(this,{writable:!0,value:void 0}),r(this,ys,new Map),!t)return;r(this,gs,t);const e=n(t).dataset;r(this,ms,e.パラメーター),r(this,bs,e.デフォルトページ),r(this,xs,"true"===(e.パラメータ常時表示??"true")),r(this,$s,"true"===(e.遷移後リンク無効化??"false"))}遷移(n=e(this,bs),r){e(this,ys).has(n)?(Ds.疑似遷移(t(this,vs,Ps).call(this,n)),t(this,_s,Ms).call(this,r),t(this,ws,Es).call(this,n)):G.ページが見つかりませんでした()}static 疑似リンク初期化(){for(const t of document.getElementsByClassName("疑似リンク"))a(Ss,Ss,Is).call(Ss,t)&&a(Ss,Ss,js).call(Ss,t);Ss.トップ表示()}static トップ表示(){o(Ss,Ss,Ws).get(void 0).遷移("index.cgi")}}function Es(t){e(this,ks)&&(e(this,ks).hidden=!0),r(this,ks,e(this,ys).get(t)),e(this,ks).hidden=!1}function Ps(t){return t!==e(this,bs)||e(this,xs)?(e(this,gs)?`${o(Ss,Ss,Os)} ${e(this,gs)}?${e(this,ms)}=`:o(Ss,Ss,Os))+t:e(this,gs)?`${o(Ss,Ss,Os)} ${e(this,gs)} `:o(Ss,Ss,Os)}function Ms(t){var n;e(this,$s)&&(null==(n=e(this,Cs))||n.classList.toggle("現在リンク"),r(this,Cs,t),e(this,Cs).classList.toggle("現在リンク"))}function Is(t){return!!t.dataset.ページ}function js(r){const i=r.dataset,s=i.親ページ,a=i.ページ,c=o(Ss,Ss,Ws);c.has(s)||c.set(s,new Ss(s));const u=c.get(s),h=e(u,ys);if(!h.has(a)){const i=n(s?`${s}-${a}`:a);h.set(a,i),e(u,bs)===a&&(t(u,ws,Es).call(u,a),t(u,_s,Ms).call(u,r))}r.addEventListener("click",o(Ss,Ss,As)),r.setAttribute("href",t(u,vs,Ps).call(u,i.ページ))}var As={writable:!0,value:(t=>{t.preventDefault(),scrollTo(0,0);const e=t.currentTarget,n=e.dataset;o(Ss,Ss,Ws).get(n.親ページ).遷移(n.ページ,e)}).bind(Ss)},Ws={writable:!0,value:new Map},Os={writable:!0,value:Object.freeze("#")};n("player_list.html");class Ts{static 書き込み(t){v.ニュースを追加([t])}}var Ns=new WeakMap,Ls=new WeakMap,Rs=new WeakMap;class Fs{constructor(t,e,n){Ns.set(this,{writable:!0,value:void 0}),Ls.set(this,{writable:!0,value:void 0}),Rs.set(this,{writable:!0,value:void 0}),r(this,Ns,t),r(this,Ls,e),r(this,Rs,n)}}class Ds{static 初期化(){const[t,e]=location.hash.replace("#",d).split("?");u(Ds,Ds,Us,decodeURI(t)),u(Ds,Ds,zs,new URLSearchParams(e)),window.addEventListener("hashchange",Ds.hashHandler,!1)}static hashHandler(){}static get ページ(){return o(Ds,Ds,Us)}static set ページ(t){o(Ds,Ds,Us)!==t&&(u(Ds,Ds,Us,t),Ds.疑似遷移())}static パラメータ取得(t){return o(Ds,Ds,zs).get(t)}static パラメータ追加(t){return o(Ds,Ds,zs).get(t)}static パラメータリセット(){}static 疑似遷移(t){history.pushState(null,"",`${location.origin}${location.pathname}${t} `)}}var Us={writable:!0,value:void 0},zs={writable:!0,value:void 0};const Bs=(t,e=!0,n=!1)=>e&&t%60==0?`${Math.round(t/60)} 分`:`${Math.floor(t/60)} 分${n&&秒<10?"0":d} ${秒} 秒`,qs=()=>!!Hs&&(G.表示(`現在メンテナンス中です。しばらくお待ちください(約 ${Hs} 分間)`),!0),Gs=localStorage,Hs=0,Vs=7,Ys=200,Ks=30,Js=7,Xs=30,Zs=100,Qs=50,ta=30,ea=60,na=1,ra=(Object.freeze({1:new Fs(10,15e3,700),2:new Fs(6,7e3,300),3:new Fs(3,3e3,100)}),10),ia=1800,sa=Object.freeze(new Map([[30,604800],[25,259200],[20,86400],[15,10800],[10,3600]])),aa="#FF69B4",oa=300,ca=500,ua=100,ha=Object.freeze(new bt(999,999,255,255,255)),la=(new Map([["武器",Symbol("武器")],["防具",Symbol("防具")],["道具",Symbol("道具")]]),Object.freeze(new Set(["戦士","剣士","弓使い","魔物使い"]))),fa="resource/icon/chr/098.gif",da="＠",pa=[new ee("∞",10,3),new ee("♪",20),new ee("†",50),new ee("★",70),new ee("７",100)],wa=Object.freeze({特別な特賞:()=>"！！！えっ！？あれっ！？なんだこれは？！え～と…ハズレです！………な、なんですか！？…わかりましたよ。他の人には内緒ですよ。",特別なアタリ:t=>`おおっ！${t}が出ました～！おめでとうございま～す！こちらが${t}になります！`,特別なハズレ:()=>"おおっ！ホワイトオーブが出ました～！って…それはハズレです…",特賞:(t,e)=>`！！！えっ！？えっ！？お、大当たり～！大当たり～！あれ？出ないはずなのにな…ｺﾞﾆｮｺﾞﾆｮ。お、おめでとうございます！${e}です！${e}が出ました～！どうぞ！こちらが${e}の${t}です！お受け取りください！`,超激レア:(t,e)=>`！！おっ！大当たり～！大当たり～！おめでとうございます！${e}が出ました～！こちらが${e}の${t}です！`,激レア:(t,e)=>`大当たり～！大当たり～！おめでとうございます！${e}が出ました～！こちらが${e}の${t}です！`,超レア:(t,e)=>`おおっ、当たりで～す！おめでとうございま～す！${e}が出ました～！こちらが${e}の${t}です！`,レア:(t,e)=>`当ったり～！おめでとうございます！${e}の${t}です！`,普通:(t,e)=>`おめでとう。${e}の${t}で～す！`,ハズレ:()=>"ハズレです…"}),va=40,_a=9,ga=6,ma=1/14,ba=2,ya=4,xa=1,$a=2,ka=1/15,Ca=2,Sa="幸福袋",Ea=7,Pa=new Map([["#FF3333","レッド"],["#FF33CC","ピンク"],["#FF9933","オレンジ"],["#FFFF33","イエロー"],["#33FF33","グリーン"],["#33CCFF","アクア"],["#6666FF","ブルー"],["#CC66FF","パープル"],["#FFFFFF","ホワイト"],["#CCCCFF","グレイ"],["#33FF99","エメラルド"]]),Ma=new RegExp(/(#[0-9a-fA-F]{6})/),Ia=10;Ut.初期化(),z.読み込み(),Mi.初期化(),Ds.初期化(),Mi.一覧("トップ画面").表示(),Ss.疑似リンク初期化(),ts.初期化(),is.初期化(),It.初期化(),nr.初期化(),wr.初期化(),$r.初期化(),setTimeout((()=>v.初期化())),document.forms.新規登録フォーム.名前.value="あ",document.forms.新規登録フォーム.パスワード.value="qweqrtta"}))})()})();